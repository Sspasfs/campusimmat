<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="_class_db_utils" xml:lang="fr">
<title>Référence de la classe DbUtils</title>
<indexterm><primary>DbUtils</primary></indexterm>
Graphe de collaboration de DbUtils:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_db_utils__coll__graph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
<simplesect>
    <title>Fonctions membres publiques    </title>
        <itemizedlist>
            <listitem><para><link linkend="_class_db_utils_1a43a6abae923aba84865de31ae1d26f2d">getForeignKeyFieldForTable</link> ($table)</para>
</listitem>
            <listitem><para><link linkend="_class_db_utils_1a4c7fb2af28e7fe6f334f73328b473010">isForeignKeyField</link> ($field)</para>
</listitem>
            <listitem><para><link linkend="_class_db_utils_1abe1c2ad355ced4ad097f7ea9ebe46ef9">getTableNameForForeignKeyField</link> ($<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">fkname</link>)</para>
</listitem>
            <listitem><para><link linkend="_class_db_utils_1a632b33567d92009406ae2079b79da6c9">getPlural</link> ($string)</para>
</listitem>
            <listitem><para><link linkend="_class_db_utils_1acd1a204923f1cb47c300b1ced6639348">getSingular</link> ($string)</para>
</listitem>
            <listitem><para><link linkend="_class_db_utils_1a5bb7668a0ab5705035e0608178fabcba">getItemForItemtype</link> ($<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">itemtype</link>)</para>
</listitem>
            <listitem><para><link linkend="_class_db_utils_1a3e6204af06223046ccbe80d3454028d2">countDistinctElementsInTable</link> ($table, $field, $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">condition</link>=[])</para>
</listitem>
            <listitem><para><link linkend="_class_db_utils_1a25bba0499c91060d4cfd8542ae59aefd">countElementsInTableForMyEntities</link> ($table, $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">condition</link>=[])</para>
</listitem>
            <listitem><para><link linkend="_class_db_utils_1a937ed908d8a96fd904b0fcb56c470bff">countElementsInTableForEntity</link> ($table, $entity, $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">condition</link>=[], $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">recursive</link>=true)</para>
</listitem>
            <listitem><para><link linkend="_class_db_utils_1a3666d52463c05ed559cff4e3067774df">getEntitiesRestrictCriteria</link> ( $table=&apos;&apos;, $field=&apos;&apos;, $value=&apos;&apos;, $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">is_recursive</link>=false, $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">complete_request</link>=false)</para>
</listitem>
            <listitem><para><link linkend="_class_db_utils_1a1c876ecd37cfd3e672b1c3d2d0958f8a">getSonsAndAncestorsOf</link> ($table, $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">IDf</link>)</para>
</listitem>
            <listitem><para><link linkend="_class_db_utils_1a3fa2d87c3a5b498f92b109b8bbbe99a8">constructTreeFromList</link> ($<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">list</link>, $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">root</link>)</para>
</listitem>
            <listitem><para><link linkend="_class_db_utils_1a8ac45e3e7507058f6efb75c3a4a0e900">constructListFromTree</link> ($<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">tree</link>, $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">parent</link>=0)</para>
</listitem>
            <listitem><para><link linkend="_class_db_utils_1a0065650b0b4d6acde66d1b88415157f3">exportArrayToDB</link> ($array)</para>
</listitem>
            <listitem><para><link linkend="_class_db_utils_1ab3a0557fecb68b3af321f53550206c91">importArrayFromDB</link> ($data)</para>
</listitem>
            <listitem><para><link linkend="_class_db_utils_1aa19f85bdaad8aaf516be9d7fe5896a9d">getHourFromSql</link> ($<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">time</link>)</para>
</listitem>
            <listitem><para><link linkend="_class_db_utils_1acc5528142cd920ca88b00a4df9693e4c">getDbRelations</link> ()</para>
</listitem>
            <listitem><para><link linkend="_class_db_utils_1a0476cfe37c0681d0e5fbeb3291b5d75f">getItemtypeForForeignKeyField</link> ($<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">fkname</link>)</para>
</listitem>
        </itemizedlist>
</simplesect>
<section>
<title>Description détaillée</title>

<para><link linkend="_class_database">Database</link> utilities</para>

<para><formalpara><title>Depuis</title>

<para>9.2 </para>
</formalpara>
</para>
</section>
<section>
<title>Documentation des fonctions membres</title>
<anchor xml:id="_class_db_utils_1a8ac45e3e7507058f6efb75c3a4a0e900"/><section>
    <title>constructListFromTree()</title>
<indexterm><primary>constructListFromTree</primary><secondary>DbUtils</secondary></indexterm>
<indexterm><primary>DbUtils</primary><secondary>constructListFromTree</secondary></indexterm>
<para><computeroutput>constructListFromTree ( $tree,  $parent = <computeroutput>0</computeroutput>
)</computeroutput></para>
<para>Construct a list from a tree structure</para>

<para>
                <formalpara>
                    <title>
Paramètres</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="3" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>array</entry><entry>$tree</entry><entry>
<para>the tree </para>
</entry>
                            </row>
                            <row>
<entry>integer</entry><entry>$parent</entry><entry>
<para>root of the tree (default =0)</para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Renvoie</title>

<para>array list of items in the tree </para>
</formalpara>
</para>
Voici le graphe d&apos;appel pour cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_db_utils_a8ac45e3e7507058f6efb75c3a4a0e900_cgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
Voici le graphe des appelants de cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_db_utils_a8ac45e3e7507058f6efb75c3a4a0e900_icgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_class_db_utils_1a3fa2d87c3a5b498f92b109b8bbbe99a8"/><section>
    <title>constructTreeFromList()</title>
<indexterm><primary>constructTreeFromList</primary><secondary>DbUtils</secondary></indexterm>
<indexterm><primary>DbUtils</primary><secondary>constructTreeFromList</secondary></indexterm>
<para><computeroutput>constructTreeFromList ( $list,  $root)</computeroutput></para>
<para>Construct a tree from a list structure</para>

<para>
                <formalpara>
                    <title>
Paramètres</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="3" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>array</entry><entry>$list</entry><entry>
<para>the list </para>
</entry>
                            </row>
                            <row>
<entry>integer</entry><entry>$root</entry><entry>
<para>root of the tree</para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Renvoie</title>

<para>array list of items in the tree </para>
</formalpara>
</para>
Voici le graphe d&apos;appel pour cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_db_utils_a3fa2d87c3a5b498f92b109b8bbbe99a8_cgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
Voici le graphe des appelants de cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_db_utils_a3fa2d87c3a5b498f92b109b8bbbe99a8_icgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_class_db_utils_1a3e6204af06223046ccbe80d3454028d2"/><section>
    <title>countDistinctElementsInTable()</title>
<indexterm><primary>countDistinctElementsInTable</primary><secondary>DbUtils</secondary></indexterm>
<indexterm><primary>DbUtils</primary><secondary>countDistinctElementsInTable</secondary></indexterm>
<para><computeroutput>countDistinctElementsInTable ( $table,  $field,  $condition = <computeroutput>[]</computeroutput>
)</computeroutput></para>
<para>Count the number of elements in a table.</para>

<para>
                <formalpara>
                    <title>
Paramètres</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="3" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>string | array</entry><entry>$table</entry><entry>
<para>table name(s) </para>
</entry>
                            </row>
                            <row>
<entry>string</entry><entry>$field</entry><entry>
<para>field name </para>
</entry>
                            </row>
                            <row>
<entry>?string | ?array</entry><entry>$condition</entry><entry>
<para>array of criteria</para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Renvoie</title>

<para>int nb of elements in table </para>
</formalpara>
</para>
Voici le graphe d&apos;appel pour cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_db_utils_a3e6204af06223046ccbe80d3454028d2_cgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_class_db_utils_1a937ed908d8a96fd904b0fcb56c470bff"/><section>
    <title>countElementsInTableForEntity()</title>
<indexterm><primary>countElementsInTableForEntity</primary><secondary>DbUtils</secondary></indexterm>
<indexterm><primary>DbUtils</primary><secondary>countElementsInTableForEntity</secondary></indexterm>
<para><computeroutput>countElementsInTableForEntity ( $table,  $entity,  $condition = <computeroutput>[]</computeroutput>
,  $recursive = <computeroutput>true</computeroutput>
)</computeroutput></para>
<para>Count the number of elements in a table for a specific entity</para>

<para>
                <formalpara>
                    <title>
Paramètres</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="3" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>string | array</entry><entry>$table</entry><entry>
<para>table name(s) </para>
</entry>
                            </row>
                            <row>
<entry>integer</entry><entry>$entity</entry><entry>
<para>the entity ID </para>
</entry>
                            </row>
                            <row>
<entry>array</entry><entry>$condition</entry><entry>
<para>condition to use (default &apos;&apos;) or array of criteria </para>
</entry>
                            </row>
                            <row>
<entry>boolean</entry><entry>$recursive</entry><entry>
<para>Whether to recurse or not. If true, will be conditionned on item recursivity</para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Renvoie</title>

<para>integer number of elements in table </para>
</formalpara>
</para>

<para>TODO clean it / maybe include when review of SQL requests</para>
Voici le graphe d&apos;appel pour cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_db_utils_a937ed908d8a96fd904b0fcb56c470bff_cgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_class_db_utils_1a25bba0499c91060d4cfd8542ae59aefd"/><section>
    <title>countElementsInTableForMyEntities()</title>
<indexterm><primary>countElementsInTableForMyEntities</primary><secondary>DbUtils</secondary></indexterm>
<indexterm><primary>DbUtils</primary><secondary>countElementsInTableForMyEntities</secondary></indexterm>
<para><computeroutput>countElementsInTableForMyEntities ( $table,  $condition = <computeroutput>[]</computeroutput>
)</computeroutput></para>
<para>Count the number of elements in a table for a specific entity</para>

<para>
                <formalpara>
                    <title>
Paramètres</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="3" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>string | array</entry><entry>$table</entry><entry>
<para>table name(s) </para>
</entry>
                            </row>
                            <row>
<entry>array</entry><entry>$condition</entry><entry>
<para>array of criteria</para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Renvoie</title>

<para>integer Number of elements in table </para>
</formalpara>
</para>

<para>TODO clean it / maybe include when review of SQL requests</para>
Voici le graphe d&apos;appel pour cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_db_utils_a25bba0499c91060d4cfd8542ae59aefd_cgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_class_db_utils_1a0065650b0b4d6acde66d1b88415157f3"/><section>
    <title>exportArrayToDB()</title>
<indexterm><primary>exportArrayToDB</primary><secondary>DbUtils</secondary></indexterm>
<indexterm><primary>DbUtils</primary><secondary>exportArrayToDB</secondary></indexterm>
<para><computeroutput>exportArrayToDB ( $array)</computeroutput></para>
<para>Export an array to be stored in a simple field in the database</para>

<para>
                <formalpara>
                    <title>
Paramètres</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="3" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>array</entry><entry>$array</entry><entry>
<para>Array to export / encode (one level depth)</para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Renvoie</title>

<para>string containing encoded array </para>
</formalpara>
</para>
</section>
<anchor xml:id="_class_db_utils_1acc5528142cd920ca88b00a4df9693e4c"/><section>
    <title>getDbRelations()</title>
<indexterm><primary>getDbRelations</primary><secondary>DbUtils</secondary></indexterm>
<indexterm><primary>DbUtils</primary><secondary>getDbRelations</secondary></indexterm>
<para><computeroutput>getDbRelations ( )</computeroutput></para>
<para>Get the $RELATION array. It defines all relations between tables in the <link linkend="_class_d_b">DB</link>; plugins may add their own stuff</para>

<para><formalpara><title>Renvoie</title>

<para>array the $RELATION array </para>
</formalpara>
</para>
Voici le graphe d&apos;appel pour cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_db_utils_acc5528142cd920ca88b00a4df9693e4c_cgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_class_db_utils_1a3666d52463c05ed559cff4e3067774df"/><section>
    <title>getEntitiesRestrictCriteria()</title>
<indexterm><primary>getEntitiesRestrictCriteria</primary><secondary>DbUtils</secondary></indexterm>
<indexterm><primary>DbUtils</primary><secondary>getEntitiesRestrictCriteria</secondary></indexterm>
<para><computeroutput>getEntitiesRestrictCriteria ( $table = <computeroutput>&apos;&apos;</computeroutput>
,  $field = <computeroutput>&apos;&apos;</computeroutput>
,  $value = <computeroutput>&apos;&apos;</computeroutput>
,  $is_recursive = <computeroutput>false</computeroutput>
,  $complete_request = <computeroutput>false</computeroutput>
)</computeroutput></para>
<para>Get criteria to restrict to current entities of the user</para>

<para><formalpara><title>Depuis</title>

<para>9.2</para>
</formalpara>

                <formalpara>
                    <title>
Paramètres</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="3" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>string</entry><entry>$table</entry><entry>
<para>table where apply the limit (if needed, multiple tables queries) (default &apos;&apos;) </para>
</entry>
                            </row>
                            <row>
<entry>string</entry><entry>$field</entry><entry>
<para>field where apply the limit (id != entities_id) (default &apos;&apos;) </para>
</entry>
                            </row>
                            <row>
<entry>mixed</entry><entry>$value</entry><entry>
<para>entity to restrict (if not set use $_SESSION[&apos;glpiactiveentities&apos;]). single item or array (default &apos;&apos;) </para>
</entry>
                            </row>
                            <row>
<entry>boolean</entry><entry>$is_recursive</entry><entry>
<para>need to use recursive process to find item (field need to be named recursive) (false by default, set to auto to automatic detection) </para>
</entry>
                            </row>
                            <row>
<entry>boolean</entry><entry>$complete_request</entry><entry>
<para>need to use a complete request and not a simple one when have acces to all entities (used for reminders) (false by default)</para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Renvoie</title>

<para>array of criteria </para>
</formalpara>
</para>
Voici le graphe d&apos;appel pour cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_db_utils_a3666d52463c05ed559cff4e3067774df_cgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
Voici le graphe des appelants de cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_db_utils_a3666d52463c05ed559cff4e3067774df_icgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_class_db_utils_1a43a6abae923aba84865de31ae1d26f2d"/><section>
    <title>getForeignKeyFieldForTable()</title>
<indexterm><primary>getForeignKeyFieldForTable</primary><secondary>DbUtils</secondary></indexterm>
<indexterm><primary>DbUtils</primary><secondary>getForeignKeyFieldForTable</secondary></indexterm>
<para><computeroutput>getForeignKeyFieldForTable ( $table)</computeroutput></para>
<para>Return foreign key field name for a table</para>

<para>
                <formalpara>
                    <title>
Paramètres</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="3" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>string</entry><entry>$table</entry><entry>
<para>table name</para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Renvoie</title>

<para>string field name used for a foreign key to the parameter table </para>
</formalpara>
</para>
</section>
<anchor xml:id="_class_db_utils_1aa19f85bdaad8aaf516be9d7fe5896a9d"/><section>
    <title>getHourFromSql()</title>
<indexterm><primary>getHourFromSql</primary><secondary>DbUtils</secondary></indexterm>
<indexterm><primary>DbUtils</primary><secondary>getHourFromSql</secondary></indexterm>
<para><computeroutput>getHourFromSql ( $time)</computeroutput></para>
<para>Get hour from sql</para>

<para>
                <formalpara>
                    <title>
Paramètres</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="3" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>string</entry><entry>$time</entry><entry>
<para>datetime time</para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Renvoie</title>

<para>array </para>
</formalpara>
</para>
</section>
<anchor xml:id="_class_db_utils_1a5bb7668a0ab5705035e0608178fabcba"/><section>
    <title>getItemForItemtype()</title>
<indexterm><primary>getItemForItemtype</primary><secondary>DbUtils</secondary></indexterm>
<indexterm><primary>DbUtils</primary><secondary>getItemForItemtype</secondary></indexterm>
<para><computeroutput>getItemForItemtype ( $itemtype)</computeroutput></para>
<para>Get new item objet for an itemtype</para>

<para>
                <formalpara>
                    <title>
Paramètres</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="3" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>string</entry><entry>$itemtype</entry><entry>
<para>itemtype</para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Renvoie</title>

<para>CommonDBTM|false itemtype instance or false if class does not exists </para>
</formalpara>
</para>
Voici le graphe des appelants de cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_db_utils_a5bb7668a0ab5705035e0608178fabcba_icgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_class_db_utils_1a0476cfe37c0681d0e5fbeb3291b5d75f"/><section>
    <title>getItemtypeForForeignKeyField()</title>
<indexterm><primary>getItemtypeForForeignKeyField</primary><secondary>DbUtils</secondary></indexterm>
<indexterm><primary>DbUtils</primary><secondary>getItemtypeForForeignKeyField</secondary></indexterm>
<para><computeroutput>getItemtypeForForeignKeyField ( $fkname)</computeroutput></para>
<para>Return ItemType for a foreign key</para>

<para>
                <formalpara>
                    <title>
Paramètres</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="3" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>string</entry><entry>$fkname</entry><entry>
<para>Foreign key</para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Renvoie</title>

<para>string ItemType name for the fkname parameter </para>
</formalpara>
</para>
Voici le graphe d&apos;appel pour cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_db_utils_a0476cfe37c0681d0e5fbeb3291b5d75f_cgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
Voici le graphe des appelants de cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_db_utils_a0476cfe37c0681d0e5fbeb3291b5d75f_icgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_class_db_utils_1a632b33567d92009406ae2079b79da6c9"/><section>
    <title>getPlural()</title>
<indexterm><primary>getPlural</primary><secondary>DbUtils</secondary></indexterm>
<indexterm><primary>DbUtils</primary><secondary>getPlural</secondary></indexterm>
<para><computeroutput>getPlural ( $string)</computeroutput></para>
<para>Return the plural of a string</para>

<para>
                <formalpara>
                    <title>
Paramètres</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="3" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>string</entry><entry>$string</entry><entry>
<para>input string</para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Renvoie</title>

<para>string plural of the parameter string </para>
</formalpara>
</para>
</section>
<anchor xml:id="_class_db_utils_1acd1a204923f1cb47c300b1ced6639348"/><section>
    <title>getSingular()</title>
<indexterm><primary>getSingular</primary><secondary>DbUtils</secondary></indexterm>
<indexterm><primary>DbUtils</primary><secondary>getSingular</secondary></indexterm>
<para><computeroutput>getSingular ( $string)</computeroutput></para>
<para>Return the singular of a string</para>

<para>
                <formalpara>
                    <title>
Paramètres</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="3" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>string</entry><entry>$string</entry><entry>
<para>input string</para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Renvoie</title>

<para>string singular of the parameter string </para>
</formalpara>
</para>
</section>
<anchor xml:id="_class_db_utils_1a1c876ecd37cfd3e672b1c3d2d0958f8a"/><section>
    <title>getSonsAndAncestorsOf()</title>
<indexterm><primary>getSonsAndAncestorsOf</primary><secondary>DbUtils</secondary></indexterm>
<indexterm><primary>DbUtils</primary><secondary>getSonsAndAncestorsOf</secondary></indexterm>
<para><computeroutput>getSonsAndAncestorsOf ( $table,  $IDf)</computeroutput></para>
<para>Get the sons and the ancestors of an item in a tree dropdown. Rely on getSonsOf and getAncestorsOf</para>

<para><formalpara><title>Depuis</title>

<para>0.84</para>
</formalpara>

                <formalpara>
                    <title>
Paramètres</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="3" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>string</entry><entry>$table</entry><entry>
<para>table name </para>
</entry>
                            </row>
                            <row>
<entry>string</entry><entry>$IDf</entry><entry>
<para>The ID of the father</para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Renvoie</title>

<para>array of IDs of the sons and the ancestors </para>
</formalpara>
</para>
Voici le graphe d&apos;appel pour cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_db_utils_a1c876ecd37cfd3e672b1c3d2d0958f8a_cgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_class_db_utils_1abe1c2ad355ced4ad097f7ea9ebe46ef9"/><section>
    <title>getTableNameForForeignKeyField()</title>
<indexterm><primary>getTableNameForForeignKeyField</primary><secondary>DbUtils</secondary></indexterm>
<indexterm><primary>DbUtils</primary><secondary>getTableNameForForeignKeyField</secondary></indexterm>
<para><computeroutput>getTableNameForForeignKeyField ( $fkname)</computeroutput></para>
<para>Return table name for a given foreign key name</para>

<para>
                <formalpara>
                    <title>
Paramètres</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="3" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>string</entry><entry>$fkname</entry><entry>
<para>foreign key name</para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Renvoie</title>

<para>string table name corresponding to a foreign key name </para>
</formalpara>
</para>
Voici le graphe d&apos;appel pour cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_db_utils_abe1c2ad355ced4ad097f7ea9ebe46ef9_cgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
Voici le graphe des appelants de cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_db_utils_abe1c2ad355ced4ad097f7ea9ebe46ef9_icgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_class_db_utils_1ab3a0557fecb68b3af321f53550206c91"/><section>
    <title>importArrayFromDB()</title>
<indexterm><primary>importArrayFromDB</primary><secondary>DbUtils</secondary></indexterm>
<indexterm><primary>DbUtils</primary><secondary>importArrayFromDB</secondary></indexterm>
<para><computeroutput>importArrayFromDB ( $data)</computeroutput></para>
<para>Import an array encoded in a simple field in the database</para>

<para>
                <formalpara>
                    <title>
Paramètres</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="3" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>string</entry><entry>$data</entry><entry>
<para>data readed in <link linkend="_class_d_b">DB</link> to import</para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Renvoie</title>

<para>array containing datas </para>
</formalpara>
</para>
</section>
<anchor xml:id="_class_db_utils_1a4c7fb2af28e7fe6f334f73328b473010"/><section>
    <title>isForeignKeyField()</title>
<indexterm><primary>isForeignKeyField</primary><secondary>DbUtils</secondary></indexterm>
<indexterm><primary>DbUtils</primary><secondary>isForeignKeyField</secondary></indexterm>
<para><computeroutput>isForeignKeyField ( $field)</computeroutput></para>
<para>Check if field is a foreign key field</para>

<para>
                <formalpara>
                    <title>
Paramètres</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="3" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>string</entry><entry>$field</entry><entry>
<para>field name</para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Renvoie</title>

<para>boolean </para>
</formalpara>
</para>
Voici le graphe des appelants de cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_db_utils_a4c7fb2af28e7fe6f334f73328b473010_icgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<para>
La documentation de cette classe a été générée à partir du fichier suivant :</para>
public/glpi/src/<link linkend="__db_utils_8php">DbUtils.php</link></section>
</section>
