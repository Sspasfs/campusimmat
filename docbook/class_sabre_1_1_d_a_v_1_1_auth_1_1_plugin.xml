<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="_class_sabre_1_1_d_a_v_1_1_auth_1_1_plugin" xml:lang="fr">
<title>Référence de la classe Plugin</title>
<indexterm><primary>Plugin</primary></indexterm>
Graphe d&apos;héritage de Plugin:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_sabre_1_1_d_a_v_1_1_auth_1_1_plugin__inherit__graph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
Graphe de collaboration de Plugin:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_sabre_1_1_d_a_v_1_1_auth_1_1_plugin__coll__graph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
<simplesect>
    <title>Fonctions membres publiques    </title>
        <itemizedlist>
            <listitem><para><link linkend="_class_sabre_1_1_d_a_v_1_1_auth_1_1_plugin_1a89ef168d0e4d01b266e2965a76349ae9">__construct</link> (<link linkend="_interface_sabre_1_1_d_a_v_1_1_auth_1_1_backend_1_1_backend_interface">Backend\BackendInterface</link> $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">authBackend</link>=null)</para>
</listitem>
            <listitem><para><link linkend="_class_sabre_1_1_d_a_v_1_1_auth_1_1_plugin_1aa0a72c74acc91fa8cff795c41b56789f">addBackend</link> (<link linkend="_interface_sabre_1_1_d_a_v_1_1_auth_1_1_backend_1_1_backend_interface">Backend\BackendInterface</link> $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">authBackend</link>)</para>
</listitem>
            <listitem><para><link linkend="_class_sabre_1_1_d_a_v_1_1_auth_1_1_plugin_1a9ba20c29dc9549a401506d368f5d3089">initialize</link> (<link linkend="_class_sabre_1_1_d_a_v_1_1_server">Server</link> $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">server</link>)</para>
</listitem>
            <listitem><para><link linkend="_class_sabre_1_1_d_a_v_1_1_auth_1_1_plugin_1a667b4742b17228855e7ebec67113e629">getPluginName</link> ()</para>
</listitem>
            <listitem><para><link linkend="_class_sabre_1_1_d_a_v_1_1_auth_1_1_plugin_1a104addaf9c0fa8c27d9975d4b9a024b2">getCurrentPrincipal</link> ()</para>
</listitem>
            <listitem><para><link linkend="_class_sabre_1_1_d_a_v_1_1_auth_1_1_plugin_1a17c1dfd8b8890055a586d627f3b68912">beforeMethod</link> (<link linkend="_interface_sabre_1_1_h_t_t_p_1_1_request_interface">RequestInterface</link> $request, <link linkend="_interface_sabre_1_1_h_t_t_p_1_1_response_interface">ResponseInterface</link> $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">response</link>)</para>
</listitem>
            <listitem><para><link linkend="_class_sabre_1_1_d_a_v_1_1_auth_1_1_plugin_1a6842b5de20e46939164e6b51e7b62cfa">check</link> (<link linkend="_interface_sabre_1_1_h_t_t_p_1_1_request_interface">RequestInterface</link> $request, <link linkend="_interface_sabre_1_1_h_t_t_p_1_1_response_interface">ResponseInterface</link> $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">response</link>)</para>
</listitem>
            <listitem><para><link linkend="_class_sabre_1_1_d_a_v_1_1_auth_1_1_plugin_1a5bb4c145c79dd8ad38052f88f866cb2c">challenge</link> (<link linkend="_interface_sabre_1_1_h_t_t_p_1_1_request_interface">RequestInterface</link> $request, <link linkend="_interface_sabre_1_1_h_t_t_p_1_1_response_interface">ResponseInterface</link> $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">response</link>)</para>
</listitem>
            <listitem><para><link linkend="_class_sabre_1_1_d_a_v_1_1_auth_1_1_plugin_1a420981b2751a6aa1230279a4e3928ab6">getLoginFailedReasons</link> ()</para>
</listitem>
            <listitem><para><link linkend="_class_sabre_1_1_d_a_v_1_1_auth_1_1_plugin_1a53dac37743dbcb1170a0cd454a2e13a9">getPluginInfo</link> ()</para>
</listitem>
        </itemizedlist>
</simplesect>
Fonctions membres publiques hérités de <link linkend="_class_sabre_1_1_d_a_v_1_1_server_plugin">ServerPlugin</link>        <itemizedlist>
            <listitem><para><link linkend="_class_sabre_1_1_d_a_v_1_1_server_plugin_1a96fc19c600322e93e3e3a3463410e7ca">getFeatures</link> ()</para>
</listitem>
            <listitem><para><link linkend="_class_sabre_1_1_d_a_v_1_1_server_plugin_1ab59b6b102a57fa2484a3c22e53bb694a">getHTTPMethods</link> ($path)</para>
</listitem>
            <listitem><para><link linkend="_class_sabre_1_1_d_a_v_1_1_server_plugin_1a07ebbe608e0b7b0a8079181bc13bf52c">getSupportedReportSet</link> ($<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">uri</link>)</para>
</listitem>
        </itemizedlist>
<simplesect>
    <title>Champs de données    </title>
        <itemizedlist>
            <listitem><para><link linkend="_class_sabre_1_1_d_a_v_1_1_auth_1_1_plugin_1a5f647b765a90b4176596c497e9838c25">$autoRequireLogin</link> = true</para>
</listitem>
        </itemizedlist>
</simplesect>
<simplesect>
    <title>Attributs protégés    </title>
        <itemizedlist>
            <listitem><para><link linkend="_class_sabre_1_1_d_a_v_1_1_auth_1_1_plugin_1a90e3a22316c268833049a26727344501">$backends</link></para>
</listitem>
            <listitem><para><link linkend="_class_sabre_1_1_d_a_v_1_1_auth_1_1_plugin_1ae68b4d624bd9305ea31b038b8108d40a">$currentPrincipal</link></para>
</listitem>
            <listitem><para><link linkend="_class_sabre_1_1_d_a_v_1_1_auth_1_1_plugin_1ad4623bdf0d30830ecb8cd2db02448769">$loginFailedReasons</link></para>
</listitem>
        </itemizedlist>
</simplesect>
<section>
<title>Description détaillée</title>

<para>This plugin provides Authentication for a WebDAV server.</para>

<para>It works by providing a <link linkend="_class_auth">Auth</link>\Backend class. Several examples of these classes can be found in the Backend directory.</para>

<para>It&apos;s possible to provide more than one backend to this plugin. If more than one backend was provided, each backend will attempt to authenticate. Only if all backends fail, we throw a 401.</para>

<para><formalpara><title>Copyright</title>

<para>Copyright (C) fruux GmbH (<link xlink:href="https://fruux.com/">https://fruux.com/</link>) </para>
</formalpara>
<formalpara><title>Auteur</title>

<para>Evert Pot (<link xlink:href="http://evertpot.com/">http://evertpot.com/</link>) @license <link xlink:href="http://sabre.io/license/">http://sabre.io/license/</link> Modified BSD License </para>
</formalpara>
</para>
</section>
<section>
<title>Documentation des constructeurs et destructeur</title>
<anchor xml:id="_class_sabre_1_1_d_a_v_1_1_auth_1_1_plugin_1a89ef168d0e4d01b266e2965a76349ae9"/><section>
    <title>__construct()</title>
<indexterm><primary>__construct</primary><secondary>Plugin</secondary></indexterm>
<indexterm><primary>Plugin</primary><secondary>__construct</secondary></indexterm>
<para><computeroutput>__construct (<link linkend="_interface_sabre_1_1_d_a_v_1_1_auth_1_1_backend_1_1_backend_interface">Backend\BackendInterface</link> $authBackend = <computeroutput>null</computeroutput>
)</computeroutput></para>
<para>Creates the authentication plugin.</para>

<para>
                <formalpara>
                    <title>
Paramètres</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="3" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>Backend\BackendInterface</entry><entry>$authBackend</entry><entry>
<para></para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                </para>
Voici le graphe d&apos;appel pour cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_sabre_1_1_d_a_v_1_1_auth_1_1_plugin_a89ef168d0e4d01b266e2965a76349ae9_cgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
</section>
<section>
<title>Documentation des fonctions membres</title>
<anchor xml:id="_class_sabre_1_1_d_a_v_1_1_auth_1_1_plugin_1aa0a72c74acc91fa8cff795c41b56789f"/><section>
    <title>addBackend()</title>
<indexterm><primary>addBackend</primary><secondary>Plugin</secondary></indexterm>
<indexterm><primary>Plugin</primary><secondary>addBackend</secondary></indexterm>
<para><computeroutput>addBackend (<link linkend="_interface_sabre_1_1_d_a_v_1_1_auth_1_1_backend_1_1_backend_interface">Backend\BackendInterface</link> $authBackend)</computeroutput></para>
<para>Adds an authentication backend to the plugin. </para>
Voici le graphe des appelants de cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_sabre_1_1_d_a_v_1_1_auth_1_1_plugin_aa0a72c74acc91fa8cff795c41b56789f_icgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_class_sabre_1_1_d_a_v_1_1_auth_1_1_plugin_1a17c1dfd8b8890055a586d627f3b68912"/><section>
    <title>beforeMethod()</title>
<indexterm><primary>beforeMethod</primary><secondary>Plugin</secondary></indexterm>
<indexterm><primary>Plugin</primary><secondary>beforeMethod</secondary></indexterm>
<para><computeroutput>beforeMethod (<link linkend="_interface_sabre_1_1_h_t_t_p_1_1_request_interface">RequestInterface</link> $request, <link linkend="_interface_sabre_1_1_h_t_t_p_1_1_response_interface">ResponseInterface</link> $response)</computeroutput></para>
<para>This method is called before any HTTP method and forces users to be authenticated. </para>
Voici le graphe d&apos;appel pour cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_sabre_1_1_d_a_v_1_1_auth_1_1_plugin_a17c1dfd8b8890055a586d627f3b68912_cgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_class_sabre_1_1_d_a_v_1_1_auth_1_1_plugin_1a5bb4c145c79dd8ad38052f88f866cb2c"/><section>
    <title>challenge()</title>
<indexterm><primary>challenge</primary><secondary>Plugin</secondary></indexterm>
<indexterm><primary>Plugin</primary><secondary>challenge</secondary></indexterm>
<para><computeroutput>challenge (<link linkend="_interface_sabre_1_1_h_t_t_p_1_1_request_interface">RequestInterface</link> $request, <link linkend="_interface_sabre_1_1_h_t_t_p_1_1_response_interface">ResponseInterface</link> $response)</computeroutput></para>
<para>This method sends authentication challenges to the user.</para>

<para>This method will for example cause a HTTP Basic backend to set a WWW-Authorization header, indicating to the client that it should authenticate. </para>
Voici le graphe des appelants de cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_sabre_1_1_d_a_v_1_1_auth_1_1_plugin_a5bb4c145c79dd8ad38052f88f866cb2c_icgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_class_sabre_1_1_d_a_v_1_1_auth_1_1_plugin_1a6842b5de20e46939164e6b51e7b62cfa"/><section>
    <title>check()</title>
<indexterm><primary>check</primary><secondary>Plugin</secondary></indexterm>
<indexterm><primary>Plugin</primary><secondary>check</secondary></indexterm>
<para><computeroutput>check (<link linkend="_interface_sabre_1_1_h_t_t_p_1_1_request_interface">RequestInterface</link> $request, <link linkend="_interface_sabre_1_1_h_t_t_p_1_1_response_interface">ResponseInterface</link> $response)</computeroutput></para>
<para>Checks authentication credentials, and logs the user in if possible.</para>

<para>This method returns an array. The first item in the array is a boolean indicating if login was successful.</para>

<para>If login was successful, the second item in the array will contain the current principal url/path of the logged in user.</para>

<para>If login was not successful, the second item in the array will contain a an array with strings. The strings are a list of reasons why login was unsuccessful. For every auth backend there will be one reason, so usually there&apos;s just one.</para>

<para><formalpara><title>Renvoie</title>

<para>array </para>
</formalpara>
</para>
Voici le graphe des appelants de cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_sabre_1_1_d_a_v_1_1_auth_1_1_plugin_a6842b5de20e46939164e6b51e7b62cfa_icgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_class_sabre_1_1_d_a_v_1_1_auth_1_1_plugin_1a104addaf9c0fa8c27d9975d4b9a024b2"/><section>
    <title>getCurrentPrincipal()</title>
<indexterm><primary>getCurrentPrincipal</primary><secondary>Plugin</secondary></indexterm>
<indexterm><primary>Plugin</primary><secondary>getCurrentPrincipal</secondary></indexterm>
<para><computeroutput>getCurrentPrincipal ( )</computeroutput></para>
<para>Returns the currently logged-in principal.</para>

<para>This will return a string such as:</para>

<para>principals/username principals/users/username</para>

<para>This method will return null if nobody is logged in.</para>

<para><formalpara><title>Renvoie</title>

<para>string|null </para>
</formalpara>
</para>
</section>
<anchor xml:id="_class_sabre_1_1_d_a_v_1_1_auth_1_1_plugin_1a420981b2751a6aa1230279a4e3928ab6"/><section>
    <title>getLoginFailedReasons()</title>
<indexterm><primary>getLoginFailedReasons</primary><secondary>Plugin</secondary></indexterm>
<indexterm><primary>Plugin</primary><secondary>getLoginFailedReasons</secondary></indexterm>
<para><computeroutput>getLoginFailedReasons ( )</computeroutput></para>
<para>Returns a list of reasons why login was unsuccessful.</para>

<para>This method will return the login failed reasons for the last login operation. One for each auth backend.</para>

<para>This method returns null if the last authentication attempt was successful, or if there was no authentication attempt yet.</para>

<para><formalpara><title>Renvoie</title>

<para>string[]|null </para>
</formalpara>
</para>
</section>
<anchor xml:id="_class_sabre_1_1_d_a_v_1_1_auth_1_1_plugin_1a53dac37743dbcb1170a0cd454a2e13a9"/><section>
    <title>getPluginInfo()</title>
<indexterm><primary>getPluginInfo</primary><secondary>Plugin</secondary></indexterm>
<indexterm><primary>Plugin</primary><secondary>getPluginInfo</secondary></indexterm>
<para><computeroutput>getPluginInfo ( )</computeroutput></para>
<para>Returns a bunch of meta-data about the plugin.</para>

<para>Providing this information is optional, and is mainly displayed by the Browser plugin.</para>

<para>The description key in the returned array may contain html and will not be sanitized.</para>

<para><formalpara><title>Renvoie</title>

<para>array </para>
</formalpara>
</para>
<para>
Réimplémentée à partir de <link linkend="_class_sabre_1_1_d_a_v_1_1_server_plugin_1a53dac37743dbcb1170a0cd454a2e13a9">ServerPlugin</link>.</para>
Voici le graphe d&apos;appel pour cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_sabre_1_1_d_a_v_1_1_auth_1_1_plugin_a53dac37743dbcb1170a0cd454a2e13a9_cgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_class_sabre_1_1_d_a_v_1_1_auth_1_1_plugin_1a667b4742b17228855e7ebec67113e629"/><section>
    <title>getPluginName()</title>
<indexterm><primary>getPluginName</primary><secondary>Plugin</secondary></indexterm>
<indexterm><primary>Plugin</primary><secondary>getPluginName</secondary></indexterm>
<para><computeroutput>getPluginName ( )</computeroutput></para>
<para>Returns a plugin name.</para>

<para>Using this name other plugins will be able to access other plugins using DAV\Server::getPlugin</para>

<para><formalpara><title>Renvoie</title>

<para>string </para>
</formalpara>
</para>
<para>
Réimplémentée à partir de <link linkend="_class_sabre_1_1_d_a_v_1_1_server_plugin_1a667b4742b17228855e7ebec67113e629">ServerPlugin</link>.</para>
Voici le graphe des appelants de cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_sabre_1_1_d_a_v_1_1_auth_1_1_plugin_a667b4742b17228855e7ebec67113e629_icgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_class_sabre_1_1_d_a_v_1_1_auth_1_1_plugin_1a9ba20c29dc9549a401506d368f5d3089"/><section>
    <title>initialize()</title>
<indexterm><primary>initialize</primary><secondary>Plugin</secondary></indexterm>
<indexterm><primary>Plugin</primary><secondary>initialize</secondary></indexterm>
<para><computeroutput>initialize (<link linkend="_class_sabre_1_1_d_a_v_1_1_server">Server</link> $server)</computeroutput></para>
<para>Initializes the plugin. This function is automatically called by the server. </para>
<para>
Réimplémentée à partir de <link linkend="_class_sabre_1_1_d_a_v_1_1_server_plugin_1a9ba20c29dc9549a401506d368f5d3089">ServerPlugin</link>.</para>
</section>
</section>
<section>
<title>Documentation des champs</title>
<anchor xml:id="_class_sabre_1_1_d_a_v_1_1_auth_1_1_plugin_1a5f647b765a90b4176596c497e9838c25"/><section>
    <title>$autoRequireLogin</title>
<indexterm><primary>$autoRequireLogin</primary><secondary>Plugin</secondary></indexterm>
<indexterm><primary>Plugin</primary><secondary>$autoRequireLogin</secondary></indexterm>
<para><computeroutput>$<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">autoRequireLogin</link> = true</computeroutput></para>
<para>By default this plugin will require that the user is authenticated, and refuse any access if the user is not authenticated.</para>

<para>If this setting is set to false, we let the user through, whether they are authenticated or not.</para>

<para>This is useful if you want to allow both authenticated and unauthenticated access to your server.</para>

<para>
                <formalpara>
                    <title>
Paramètres</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>bool</entry><entry>
<para></para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                </para>
</section>
<anchor xml:id="_class_sabre_1_1_d_a_v_1_1_auth_1_1_plugin_1a90e3a22316c268833049a26727344501"/><section>
    <title>$backends</title>
<indexterm><primary>$backends</primary><secondary>Plugin</secondary></indexterm>
<indexterm><primary>Plugin</primary><secondary>$backends</secondary></indexterm>
<para><computeroutput>$<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">backends</link><computeroutput>[protected]</computeroutput></computeroutput></para>
<para>authentication backends. </para>
</section>
<anchor xml:id="_class_sabre_1_1_d_a_v_1_1_auth_1_1_plugin_1ae68b4d624bd9305ea31b038b8108d40a"/><section>
    <title>$currentPrincipal</title>
<indexterm><primary>$currentPrincipal</primary><secondary>Plugin</secondary></indexterm>
<indexterm><primary>Plugin</primary><secondary>$currentPrincipal</secondary></indexterm>
<para><computeroutput>$<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">currentPrincipal</link><computeroutput>[protected]</computeroutput></computeroutput></para></section>
<anchor xml:id="_class_sabre_1_1_d_a_v_1_1_auth_1_1_plugin_1ad4623bdf0d30830ecb8cd2db02448769"/><section>
    <title>$loginFailedReasons</title>
<indexterm><primary>$loginFailedReasons</primary><secondary>Plugin</secondary></indexterm>
<indexterm><primary>Plugin</primary><secondary>$loginFailedReasons</secondary></indexterm>
<para><computeroutput>$<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">loginFailedReasons</link><computeroutput>[protected]</computeroutput></computeroutput></para></section>
<para>
La documentation de cette classe a été générée à partir du fichier suivant :</para>
public/glpi/vendor/sabre/dav/lib/DAV/Auth/<link linkend="_vendor_2sabre_2dav_2lib_2_d_a_v_2_auth_2plugin_8php">Plugin.php</link></section>
</section>
