<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="_class_sabre_1_1_h_t_t_p_1_1_client" xml:lang="fr">
<title>Référence de la classe Client</title>
<indexterm><primary>Client</primary></indexterm>
Graphe d&apos;héritage de Client:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_sabre_1_1_h_t_t_p_1_1_client__inherit__graph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
Graphe de collaboration de Client:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_sabre_1_1_h_t_t_p_1_1_client__coll__graph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
<simplesect>
    <title>Fonctions membres publiques    </title>
        <itemizedlist>
            <listitem><para><link linkend="_class_sabre_1_1_h_t_t_p_1_1_client_1a095c5d389db211932136b53f25f39685">__construct</link> ()</para>
</listitem>
            <listitem><para><link linkend="_class_sabre_1_1_h_t_t_p_1_1_client_1a50d6d841be27f44d283c0f8a5aee9c01">send</link> (<link linkend="_interface_sabre_1_1_h_t_t_p_1_1_request_interface">RequestInterface</link> $request)</para>
</listitem>
            <listitem><para><link linkend="_class_sabre_1_1_h_t_t_p_1_1_client_1aafab031159b07eecbb5e176bc8ed1340">sendAsync</link> (<link linkend="_interface_sabre_1_1_h_t_t_p_1_1_request_interface">RequestInterface</link> $request, <link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">callable</link> $success=null, <link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">callable</link> $error=null)</para>
</listitem>
            <listitem><para><link linkend="_class_sabre_1_1_h_t_t_p_1_1_client_1aabfa6a53da249dcd1b75b6022f163fd7">poll</link> ()</para>
</listitem>
            <listitem><para><link linkend="_class_sabre_1_1_h_t_t_p_1_1_client_1a918ab4827f83fa4abb9c445acc36f533">wait</link> ()</para>
</listitem>
            <listitem><para><link linkend="_class_sabre_1_1_h_t_t_p_1_1_client_1aebd714804f72815b92710802dd01c6c2">setThrowExceptions</link> (bool $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">throwExceptions</link>)</para>
</listitem>
            <listitem><para><link linkend="_class_sabre_1_1_h_t_t_p_1_1_client_1a36c1788be8a71d9d5257e829c61e597c">addCurlSetting</link> (int $name, $value)</para>
</listitem>
        </itemizedlist>
</simplesect>
Fonctions membres publiques hérités de <link linkend="_interface_sabre_1_1_event_1_1_emitter_interface">EmitterInterface</link>        <itemizedlist>
            <listitem><para><link linkend="_interface_sabre_1_1_event_1_1_emitter_interface_1a33e6415f7f3f457744ad1746759646c4">on</link> (string $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">eventName</link>, <link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">callable</link> $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">callBack</link>, int $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">priority</link>=100)</para>
</listitem>
            <listitem><para><link linkend="_interface_sabre_1_1_event_1_1_emitter_interface_1a150b782ec28a64c0fc324a02e8523341">once</link> (string $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">eventName</link>, <link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">callable</link> $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">callBack</link>, int $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">priority</link>=100)</para>
</listitem>
            <listitem><para><link linkend="_interface_sabre_1_1_event_1_1_emitter_interface_1a17650c695025842efe69c5ef3dae0473">emit</link> (string $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">eventName</link>, array $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">arguments</link>=[], <link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">callable</link> $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">continueCallBack</link>=null)</para>
</listitem>
            <listitem><para><link linkend="_interface_sabre_1_1_event_1_1_emitter_interface_1aba0d942bfcf8fd7abc2f58749f5b8432">listeners</link> (string $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">eventName</link>)</para>
</listitem>
            <listitem><para><link linkend="_interface_sabre_1_1_event_1_1_emitter_interface_1a0e747e11d0882655ee8a77dd1f4b5298">removeListener</link> (string $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">eventName</link>, <link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">callable</link> $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">listener</link>)</para>
</listitem>
            <listitem><para><link linkend="_interface_sabre_1_1_event_1_1_emitter_interface_1a0016e4737c8baecc64f62655510b252f">removeAllListeners</link> (string $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">eventName</link>=null)</para>
</listitem>
        </itemizedlist>
<simplesect>
    <title>Champs de données    </title>
        <itemizedlist>
            <listitem><para>const <link linkend="_class_sabre_1_1_h_t_t_p_1_1_client_1ad91a3d18b9e0b3933bcc2b756547172c">STATUS_SUCCESS</link> = 0</para>
</listitem>
            <listitem><para>const <link linkend="_class_sabre_1_1_h_t_t_p_1_1_client_1ad967cd58fe41571c06e40e15a0869ea5">STATUS_CURLERROR</link> = 1</para>
</listitem>
            <listitem><para>const <link linkend="_class_sabre_1_1_h_t_t_p_1_1_client_1ac81f4983792595cb5e06b6b3edf67125">STATUS_HTTPERROR</link> = 2</para>
</listitem>
        </itemizedlist>
</simplesect>
<simplesect>
    <title>Fonctions membres protégées    </title>
        <itemizedlist>
            <listitem><para><link linkend="_class_sabre_1_1_h_t_t_p_1_1_client_1af7e187115bdb92c6950f979ae98168e5">receiveCurlHeader</link> ($<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">curlHandle</link>, $headerLine)</para>
</listitem>
            <listitem><para><link linkend="_class_sabre_1_1_h_t_t_p_1_1_client_1a91749f08b534f8710a92684972fe7c25">doRequest</link> (<link linkend="_interface_sabre_1_1_h_t_t_p_1_1_request_interface">RequestInterface</link> $request)</para>
</listitem>
            <listitem><para><link linkend="_class_sabre_1_1_h_t_t_p_1_1_client_1a8a345b070e3b24cf8c9fd4b2eecfa251">createCurlSettingsArray</link> (<link linkend="_interface_sabre_1_1_h_t_t_p_1_1_request_interface">RequestInterface</link> $request)</para>
</listitem>
            <listitem><para><link linkend="_class_sabre_1_1_h_t_t_p_1_1_client_1a2458fa61649d8e301323b5e0430a115d">parseCurlResponse</link> (array $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">headerLines</link>, string $body, $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">curlHandle</link>)</para>
</listitem>
            <listitem><para><link linkend="_class_sabre_1_1_h_t_t_p_1_1_client_1aa8c60b65b4e7183e07796f01b9a91ebd">parseCurlResult</link> (string $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">response</link>, $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">curlHandle</link>)</para>
</listitem>
            <listitem><para><link linkend="_class_sabre_1_1_h_t_t_p_1_1_client_1aaeed4f7e2f63d45c5bb1c4202b403521">sendAsyncInternal</link> (<link linkend="_interface_sabre_1_1_h_t_t_p_1_1_request_interface">RequestInterface</link> $request, <link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">callable</link> $success, <link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">callable</link> $error, int $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">retryCount</link>=0)</para>
</listitem>
            <listitem><para><link linkend="_class_sabre_1_1_h_t_t_p_1_1_client_1ac91d5c5f4838758b50862f5a0f953858">curlExec</link> ($<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">curlHandle</link>)</para>
</listitem>
            <listitem><para><link linkend="_class_sabre_1_1_h_t_t_p_1_1_client_1ab2ca8ce663841f9061f7d6a17985f911">curlStuff</link> ($<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">curlHandle</link>)</para>
</listitem>
        </itemizedlist>
</simplesect>
<simplesect>
    <title>Attributs protégés    </title>
        <itemizedlist>
            <listitem><para><link linkend="_class_sabre_1_1_h_t_t_p_1_1_client_1a2c1ea0f7878645914f18ff8c14cdcc3c">$curlSettings</link> = []</para>
</listitem>
            <listitem><para><link linkend="_class_sabre_1_1_h_t_t_p_1_1_client_1a5e8c3c84266a8a57ef9f9daefbbb8af3">$throwExceptions</link> = false</para>
</listitem>
            <listitem><para><link linkend="_class_sabre_1_1_h_t_t_p_1_1_client_1a680b6d82d08c3bcac0b4eb27327aa9aa">$maxRedirects</link> = 5</para>
</listitem>
            <listitem><para><link linkend="_class_sabre_1_1_h_t_t_p_1_1_client_1a0838e0b9f0868f97240d8bbee977ba6e">$headerLinesMap</link> = []</para>
</listitem>
        </itemizedlist>
</simplesect>
<section>
<title>Description détaillée</title>

<para>A rudimentary HTTP client.</para>

<para>This object wraps PHP&apos;s curl extension and provides an easy way to send it a Request object, and return a Response object.</para>

<para>This is by no means intended as the next best HTTP client, but it does the job and provides a simple integration with the rest of sabre/http.</para>

<para>This client emits the following events: beforeRequest(RequestInterface $request) afterRequest(RequestInterface $request, ResponseInterface $response) error(RequestInterface $request, ResponseInterface $response, bool &amp;$retry, int $retryCount) exception(RequestInterface $request, ClientException $e, bool &amp;$retry, int $retryCount)</para>

<para>The beforeRequest event allows you to do some last minute changes to the request before it&apos;s done, such as adding authentication headers.</para>

<para>The afterRequest event will be emitted after the request is completed successfully.</para>

<para>If a HTTP error is returned (status code higher than 399) the error event is triggered. It&apos;s possible using this event to retry the request, by setting retry to true.</para>

<para>The amount of times a request has retried is passed as $retryCount, which can be used to avoid retrying indefinitely. The first time the event is called, this will be 0.</para>

<para>It&apos;s also possible to intercept specific http errors, by subscribing to for example &apos;error:401&apos;.</para>

<para><formalpara><title>Copyright</title>

<para>Copyright (C) fruux GmbH (<link xlink:href="https://fruux.com/">https://fruux.com/</link>) </para>
</formalpara>
<formalpara><title>Auteur</title>

<para>Evert Pot (<link xlink:href="http://evertpot.com/">http://evertpot.com/</link>) @license <link xlink:href="http://sabre.io/license/">http://sabre.io/license/</link> Modified BSD License </para>
</formalpara>
</para>
</section>
<section>
<title>Documentation des constructeurs et destructeur</title>
<anchor xml:id="_class_sabre_1_1_h_t_t_p_1_1_client_1a095c5d389db211932136b53f25f39685"/><section>
    <title>__construct()</title>
<indexterm><primary>__construct</primary><secondary>Client</secondary></indexterm>
<indexterm><primary>Client</primary><secondary>__construct</secondary></indexterm>
<para><computeroutput>__construct ( )</computeroutput></para>
<para>Initializes the client. </para>
</section>
</section>
<section>
<title>Documentation des fonctions membres</title>
<anchor xml:id="_class_sabre_1_1_h_t_t_p_1_1_client_1a36c1788be8a71d9d5257e829c61e597c"/><section>
    <title>addCurlSetting()</title>
<indexterm><primary>addCurlSetting</primary><secondary>Client</secondary></indexterm>
<indexterm><primary>Client</primary><secondary>addCurlSetting</secondary></indexterm>
<para><computeroutput>addCurlSetting (int $name,  $value)</computeroutput></para>
<para>Adds a CURL setting.</para>

<para>These settings will be included in every HTTP request.</para>

<para>
                <formalpara>
                    <title>
Paramètres</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="3" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>mixed</entry><entry>$value</entry><entry>
<para></para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                </para>
Voici le graphe des appelants de cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_sabre_1_1_h_t_t_p_1_1_client_a36c1788be8a71d9d5257e829c61e597c_icgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_class_sabre_1_1_h_t_t_p_1_1_client_1a8a345b070e3b24cf8c9fd4b2eecfa251"/><section>
    <title>createCurlSettingsArray()</title>
<indexterm><primary>createCurlSettingsArray</primary><secondary>Client</secondary></indexterm>
<indexterm><primary>Client</primary><secondary>createCurlSettingsArray</secondary></indexterm>
<para><computeroutput>createCurlSettingsArray (<link linkend="_interface_sabre_1_1_h_t_t_p_1_1_request_interface">RequestInterface</link> $request)<computeroutput>[protected]</computeroutput></computeroutput></para>
<para>Turns a RequestInterface object into an array with settings that can be fed to curl_setopt. </para>
Voici le graphe d&apos;appel pour cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_sabre_1_1_h_t_t_p_1_1_client_a8a345b070e3b24cf8c9fd4b2eecfa251_cgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
Voici le graphe des appelants de cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_sabre_1_1_h_t_t_p_1_1_client_a8a345b070e3b24cf8c9fd4b2eecfa251_icgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_class_sabre_1_1_h_t_t_p_1_1_client_1ac91d5c5f4838758b50862f5a0f953858"/><section>
    <title>curlExec()</title>
<indexterm><primary>curlExec</primary><secondary>Client</secondary></indexterm>
<indexterm><primary>Client</primary><secondary>curlExec</secondary></indexterm>
<para><computeroutput>curlExec ( $curlHandle)<computeroutput>[protected]</computeroutput></computeroutput></para>
<para>Calls curl_exec.</para>

<para>This method exists so it can easily be overridden and mocked.</para>

<para>
                <formalpara>
                    <title>
Paramètres</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="3" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>resource</entry><entry>$curlHandle</entry><entry>
<para></para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                </para>
Voici le graphe des appelants de cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_sabre_1_1_h_t_t_p_1_1_client_ac91d5c5f4838758b50862f5a0f953858_icgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_class_sabre_1_1_h_t_t_p_1_1_client_1ab2ca8ce663841f9061f7d6a17985f911"/><section>
    <title>curlStuff()</title>
<indexterm><primary>curlStuff</primary><secondary>Client</secondary></indexterm>
<indexterm><primary>Client</primary><secondary>curlStuff</secondary></indexterm>
<para><computeroutput>curlStuff ( $curlHandle)<computeroutput>[protected]</computeroutput></computeroutput></para>
<para>Returns a bunch of information about a curl request.</para>

<para>This method exists so it can easily be overridden and mocked.</para>

<para>
                <formalpara>
                    <title>
Paramètres</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="3" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>resource</entry><entry>$curlHandle</entry><entry>
<para></para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                </para>
Voici le graphe des appelants de cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_sabre_1_1_h_t_t_p_1_1_client_ab2ca8ce663841f9061f7d6a17985f911_icgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_class_sabre_1_1_h_t_t_p_1_1_client_1a91749f08b534f8710a92684972fe7c25"/><section>
    <title>doRequest()</title>
<indexterm><primary>doRequest</primary><secondary>Client</secondary></indexterm>
<indexterm><primary>Client</primary><secondary>doRequest</secondary></indexterm>
<para><computeroutput>doRequest (<link linkend="_interface_sabre_1_1_h_t_t_p_1_1_request_interface">RequestInterface</link> $request)<computeroutput>[protected]</computeroutput></computeroutput></para>
<para>This method is responsible for performing a single request. </para>
Voici le graphe d&apos;appel pour cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_sabre_1_1_h_t_t_p_1_1_client_a91749f08b534f8710a92684972fe7c25_cgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
Voici le graphe des appelants de cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_sabre_1_1_h_t_t_p_1_1_client_a91749f08b534f8710a92684972fe7c25_icgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_class_sabre_1_1_h_t_t_p_1_1_client_1a2458fa61649d8e301323b5e0430a115d"/><section>
    <title>parseCurlResponse()</title>
<indexterm><primary>parseCurlResponse</primary><secondary>Client</secondary></indexterm>
<indexterm><primary>Client</primary><secondary>parseCurlResponse</secondary></indexterm>
<para><computeroutput>parseCurlResponse (array $headerLines, string $body,  $curlHandle)<computeroutput>[protected]</computeroutput></computeroutput></para>
<para>Parses the result of a curl call in a format that&apos;s a bit more convenient to work with.</para>

<para>The method returns an array with the following elements:<itemizedlist>
<listitem>
<para>status - one of the 3 STATUS constants.</para>
</listitem><listitem>
<para>curl_errno - A curl error number. Only set if status is STATUS_CURLERROR.</para>
</listitem><listitem>
<para>curl_errmsg - A current error message. Only set if status is STATUS_CURLERROR.</para>
</listitem><listitem>
<para>response - Response object. Only set if status is STATUS_SUCCESS, or STATUS_HTTPERROR.</para>
</listitem><listitem>
<para>http_code - HTTP status code, as an int. Only set if Only set if status is STATUS_SUCCESS, or STATUS_HTTPERROR</para>
</listitem></itemizedlist>
</para>

<para>
                <formalpara>
                    <title>
Paramètres</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="3" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>resource</entry><entry>$curlHandle</entry><entry>
<para></para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                </para>
Voici le graphe d&apos;appel pour cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_sabre_1_1_h_t_t_p_1_1_client_a2458fa61649d8e301323b5e0430a115d_cgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
Voici le graphe des appelants de cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_sabre_1_1_h_t_t_p_1_1_client_a2458fa61649d8e301323b5e0430a115d_icgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_class_sabre_1_1_h_t_t_p_1_1_client_1aa8c60b65b4e7183e07796f01b9a91ebd"/><section>
    <title>parseCurlResult()</title>
<indexterm><primary>parseCurlResult</primary><secondary>Client</secondary></indexterm>
<indexterm><primary>Client</primary><secondary>parseCurlResult</secondary></indexterm>
<para><computeroutput>parseCurlResult (string $response,  $curlHandle)<computeroutput>[protected]</computeroutput></computeroutput></para>
<para>Parses the result of a curl call in a format that&apos;s a bit more convenient to work with.</para>

<para>The method returns an array with the following elements:<itemizedlist>
<listitem>
<para>status - one of the 3 STATUS constants.</para>
</listitem><listitem>
<para>curl_errno - A curl error number. Only set if status is STATUS_CURLERROR.</para>
</listitem><listitem>
<para>curl_errmsg - A current error message. Only set if status is STATUS_CURLERROR.</para>
</listitem><listitem>
<para>response - Response object. Only set if status is STATUS_SUCCESS, or STATUS_HTTPERROR.</para>
</listitem><listitem>
<para>http_code - HTTP status code, as an int. Only set if Only set if status is STATUS_SUCCESS, or STATUS_HTTPERROR</para>
</listitem></itemizedlist>
</para>

<para><para><link linkend="_deprecated_1_deprecated000170">Obsolète</link> 
<para>Use parseCurlResponse instead</para>
</para></para>

<para>
                <formalpara>
                    <title>
Paramètres</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="3" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>resource</entry><entry>$curlHandle</entry><entry>
<para></para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                </para>
Voici le graphe d&apos;appel pour cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_sabre_1_1_h_t_t_p_1_1_client_aa8c60b65b4e7183e07796f01b9a91ebd_cgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_class_sabre_1_1_h_t_t_p_1_1_client_1aabfa6a53da249dcd1b75b6022f163fd7"/><section>
    <title>poll()</title>
<indexterm><primary>poll</primary><secondary>Client</secondary></indexterm>
<indexterm><primary>Client</primary><secondary>poll</secondary></indexterm>
<para><computeroutput>poll ( )</computeroutput></para>
<para>This method checks if any http requests have gotten results, and if so, call the appropriate success or error handlers.</para>

<para>This method will return true if there are still requests waiting to return, and false if all the work is done. </para>
Voici le graphe d&apos;appel pour cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_sabre_1_1_h_t_t_p_1_1_client_aabfa6a53da249dcd1b75b6022f163fd7_cgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
Voici le graphe des appelants de cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_sabre_1_1_h_t_t_p_1_1_client_aabfa6a53da249dcd1b75b6022f163fd7_icgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_class_sabre_1_1_h_t_t_p_1_1_client_1af7e187115bdb92c6950f979ae98168e5"/><section>
    <title>receiveCurlHeader()</title>
<indexterm><primary>receiveCurlHeader</primary><secondary>Client</secondary></indexterm>
<indexterm><primary>Client</primary><secondary>receiveCurlHeader</secondary></indexterm>
<para><computeroutput>receiveCurlHeader ( $curlHandle,  $headerLine)<computeroutput>[protected]</computeroutput></computeroutput></para></section>
<anchor xml:id="_class_sabre_1_1_h_t_t_p_1_1_client_1a50d6d841be27f44d283c0f8a5aee9c01"/><section>
    <title>send()</title>
<indexterm><primary>send</primary><secondary>Client</secondary></indexterm>
<indexterm><primary>Client</primary><secondary>send</secondary></indexterm>
<para><computeroutput>send (<link linkend="_interface_sabre_1_1_h_t_t_p_1_1_request_interface">RequestInterface</link> $request)</computeroutput></para>
<para>Sends a request to a HTTP server, and returns a response. </para>
Voici le graphe d&apos;appel pour cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_sabre_1_1_h_t_t_p_1_1_client_a50d6d841be27f44d283c0f8a5aee9c01_cgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
Voici le graphe des appelants de cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_sabre_1_1_h_t_t_p_1_1_client_a50d6d841be27f44d283c0f8a5aee9c01_icgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_class_sabre_1_1_h_t_t_p_1_1_client_1aafab031159b07eecbb5e176bc8ed1340"/><section>
    <title>sendAsync()</title>
<indexterm><primary>sendAsync</primary><secondary>Client</secondary></indexterm>
<indexterm><primary>Client</primary><secondary>sendAsync</secondary></indexterm>
<para><computeroutput>sendAsync (<link linkend="_interface_sabre_1_1_h_t_t_p_1_1_request_interface">RequestInterface</link> $request, <link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">callable</link> $success = <computeroutput>null</computeroutput>
, <link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">callable</link> $error = <computeroutput>null</computeroutput>
)</computeroutput></para>
<para>Sends a HTTP request asynchronously.</para>

<para>Due to the nature of PHP, you must from time to time poll to see if any new responses came in.</para>

<para>After calling sendAsync, you must therefore occasionally call the poll() method, or wait(). </para>
Voici le graphe d&apos;appel pour cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_sabre_1_1_h_t_t_p_1_1_client_aafab031159b07eecbb5e176bc8ed1340_cgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_class_sabre_1_1_h_t_t_p_1_1_client_1aaeed4f7e2f63d45c5bb1c4202b403521"/><section>
    <title>sendAsyncInternal()</title>
<indexterm><primary>sendAsyncInternal</primary><secondary>Client</secondary></indexterm>
<indexterm><primary>Client</primary><secondary>sendAsyncInternal</secondary></indexterm>
<para><computeroutput>sendAsyncInternal (<link linkend="_interface_sabre_1_1_h_t_t_p_1_1_request_interface">RequestInterface</link> $request, <link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">callable</link> $success, <link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">callable</link> $error, int $retryCount = <computeroutput>0</computeroutput>
)<computeroutput>[protected]</computeroutput></computeroutput></para>
<para>Sends an asynchronous HTTP request.</para>

<para>We keep this in a separate method, so we can call it without triggering the beforeRequest event and don&apos;t do the poll(). </para>
Voici le graphe d&apos;appel pour cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_sabre_1_1_h_t_t_p_1_1_client_aaeed4f7e2f63d45c5bb1c4202b403521_cgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
Voici le graphe des appelants de cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_sabre_1_1_h_t_t_p_1_1_client_aaeed4f7e2f63d45c5bb1c4202b403521_icgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_class_sabre_1_1_h_t_t_p_1_1_client_1aebd714804f72815b92710802dd01c6c2"/><section>
    <title>setThrowExceptions()</title>
<indexterm><primary>setThrowExceptions</primary><secondary>Client</secondary></indexterm>
<indexterm><primary>Client</primary><secondary>setThrowExceptions</secondary></indexterm>
<para><computeroutput>setThrowExceptions (bool $throwExceptions)</computeroutput></para>
<para>If this is set to true, the Client will automatically throw exceptions upon HTTP errors.</para>

<para>This means that if a response came back with a status code greater than or equal to 400, we will throw a ClientHttpException.</para>

<para>This only works for the send() method. Throwing exceptions for sendAsync() is not supported. </para>
</section>
<anchor xml:id="_class_sabre_1_1_h_t_t_p_1_1_client_1a918ab4827f83fa4abb9c445acc36f533"/><section>
    <title>wait()</title>
<indexterm><primary>wait</primary><secondary>Client</secondary></indexterm>
<indexterm><primary>Client</primary><secondary>wait</secondary></indexterm>
<para><computeroutput>wait ( )</computeroutput></para>
<para>Processes every HTTP request in the queue, and waits till they are all completed. </para>
Voici le graphe d&apos;appel pour cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="class_sabre_1_1_h_t_t_p_1_1_client_a918ab4827f83fa4abb9c445acc36f533_cgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
</section>
<section>
<title>Documentation des champs</title>
<anchor xml:id="_class_sabre_1_1_h_t_t_p_1_1_client_1a2c1ea0f7878645914f18ff8c14cdcc3c"/><section>
    <title>$curlSettings</title>
<indexterm><primary>$curlSettings</primary><secondary>Client</secondary></indexterm>
<indexterm><primary>Client</primary><secondary>$curlSettings</secondary></indexterm>
<para><computeroutput>$<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">curlSettings</link> = []<computeroutput>[protected]</computeroutput></computeroutput></para></section>
<anchor xml:id="_class_sabre_1_1_h_t_t_p_1_1_client_1a0838e0b9f0868f97240d8bbee977ba6e"/><section>
    <title>$headerLinesMap</title>
<indexterm><primary>$headerLinesMap</primary><secondary>Client</secondary></indexterm>
<indexterm><primary>Client</primary><secondary>$headerLinesMap</secondary></indexterm>
<para><computeroutput>$<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">headerLinesMap</link> = []<computeroutput>[protected]</computeroutput></computeroutput></para></section>
<anchor xml:id="_class_sabre_1_1_h_t_t_p_1_1_client_1a680b6d82d08c3bcac0b4eb27327aa9aa"/><section>
    <title>$maxRedirects</title>
<indexterm><primary>$maxRedirects</primary><secondary>Client</secondary></indexterm>
<indexterm><primary>Client</primary><secondary>$maxRedirects</secondary></indexterm>
<para><computeroutput>$<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">maxRedirects</link> = 5<computeroutput>[protected]</computeroutput></computeroutput></para></section>
<anchor xml:id="_class_sabre_1_1_h_t_t_p_1_1_client_1a5e8c3c84266a8a57ef9f9daefbbb8af3"/><section>
    <title>$throwExceptions</title>
<indexterm><primary>$throwExceptions</primary><secondary>Client</secondary></indexterm>
<indexterm><primary>Client</primary><secondary>$throwExceptions</secondary></indexterm>
<para><computeroutput>$<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">throwExceptions</link> = false<computeroutput>[protected]</computeroutput></computeroutput></para></section>
<anchor xml:id="_class_sabre_1_1_h_t_t_p_1_1_client_1ad967cd58fe41571c06e40e15a0869ea5"/><section>
    <title>STATUS_CURLERROR</title>
<indexterm><primary>STATUS_CURLERROR</primary><secondary>Client</secondary></indexterm>
<indexterm><primary>Client</primary><secondary>STATUS_CURLERROR</secondary></indexterm>
<para><computeroutput>const STATUS_CURLERROR = 1</computeroutput></para></section>
<anchor xml:id="_class_sabre_1_1_h_t_t_p_1_1_client_1ac81f4983792595cb5e06b6b3edf67125"/><section>
    <title>STATUS_HTTPERROR</title>
<indexterm><primary>STATUS_HTTPERROR</primary><secondary>Client</secondary></indexterm>
<indexterm><primary>Client</primary><secondary>STATUS_HTTPERROR</secondary></indexterm>
<para><computeroutput>const STATUS_HTTPERROR = 2</computeroutput></para></section>
<anchor xml:id="_class_sabre_1_1_h_t_t_p_1_1_client_1ad91a3d18b9e0b3933bcc2b756547172c"/><section>
    <title>STATUS_SUCCESS</title>
<indexterm><primary>STATUS_SUCCESS</primary><secondary>Client</secondary></indexterm>
<indexterm><primary>Client</primary><secondary>STATUS_SUCCESS</secondary></indexterm>
<para><computeroutput>const STATUS_SUCCESS = 0</computeroutput></para></section>
<para>
La documentation de cette classe a été générée à partir du fichier suivant :</para>
public/glpi/vendor/sabre/http/lib/<link linkend="_sabre_2http_2lib_2_client_8php">Client.php</link></section>
</section>
