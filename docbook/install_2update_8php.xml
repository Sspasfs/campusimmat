<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="_install_2update_8php" xml:lang="fr">
<title>Référence du fichier public/glpi/install/update.php</title>
<indexterm><primary>public/glpi/install/update.php</primary></indexterm>
<simplesect>
    <title>Fonctions    </title>
        <itemizedlist>
            <listitem><para><link linkend="_dropdown_location_8php_1a52332c22f84432520971794825a5a8e7">if</link>(<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">isset</link>( $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">_POST</link>[ &apos;<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">update_end</link>&apos;])) <link linkend="_install_2update_8php_1a265927a298995a29fee91a3a35562c68">displayMigrationMessage</link> ($<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">id</link>, $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">msg</link>=&quot;&quot;)</para>
</listitem>
        </itemizedlist>
</simplesect>
<simplesect>
    <title>Variables    </title>
        <itemizedlist>
            <listitem><para><link linkend="_install_2update_8php_1a903d70c262a4e644cb5af1f114d1f58e">if</link> (!defined( &apos;<link linkend="_apirest_8php_1af6315dcee605fda09b6c3109c1b739b1">GLPI_ROOT</link>&apos;))</para>
</listitem>
            <listitem><para><link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">global</link> <link linkend="_install_2update_8php_1a56f6c6070edb21a35cfa9e1df79ba61c">$DB</link></para>
</listitem>
            <listitem><para><link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">global</link> <link linkend="_install_2update_8php_1aa9fe133cd0add44f9368cd127b144111">$GLPI</link> = <link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">new</link> <link linkend="_class_g_l_p_i">GLPI</link>()</para>
</listitem>
            <listitem><para><link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">global</link> <link linkend="_install_2update_8php_1a829bfa0114cf4c327b3ad59afda570fb">$GLPI_CACHE</link> = (<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">new</link> <link linkend="_class_glpi_1_1_cache_1_1_cache_manager">CacheManager</link>())-&gt;getInstallerCacheInstance()</para>
</listitem>
            <listitem><para><link linkend="_install_2update_8php_1a13a7db07df65d01cfbca768f443084cc">$update</link> = <link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">new</link> <link linkend="_class_update">Update</link>($<link linkend="_class_d_b">DB</link>)</para>
</listitem>
            <listitem><para><link linkend="_install_2update_8php_1a300b0fc015de2b2043ea33e932d73d3f">$HEADER_LOADED</link> = true</para>
</listitem>
            <listitem><para><link linkend="_dropdown_location_8php_1a52332c22f84432520971794825a5a8e7">if</link>(<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">empty</link>($<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">_POST</link>[&quot;continuer&quot;]) &amp;&amp;<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">empty</link>($<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">_POST</link>[&quot;from_update&quot;])) <link linkend="_install_2update_8php_1a224ad154ede3a358af27a26e088abced">else</link></para>
</listitem>
        </itemizedlist>
</simplesect>
<section>
<title>Documentation des fonctions</title>
<anchor xml:id="_install_2update_8php_1a265927a298995a29fee91a3a35562c68"/><section>
    <title>displayMigrationMessage()</title>
<indexterm><primary>displayMigrationMessage</primary><secondary>update.php</secondary></indexterm>
<indexterm><primary>update.php</primary><secondary>displayMigrationMessage</secondary></indexterm>
<para><computeroutput><link linkend="_dropdown_location_8php_1a52332c22f84432520971794825a5a8e7">if</link>(<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">isset</link>($<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">_POST</link>[&apos;<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">update_end</link>&apos;])) displayMigrationMessage ( $id,  $msg = <computeroutput>&quot;&quot;</computeroutput>
)</computeroutput></para>
<para>To be conserved to migrations before 0.80 since 0.80, migration is a new class </para>
</section>
</section>
<section>
<title>Documentation des variables</title>
<anchor xml:id="_install_2update_8php_1a56f6c6070edb21a35cfa9e1df79ba61c"/><section>
    <title>$DB</title>
<indexterm><primary>$DB</primary><secondary>update.php</secondary></indexterm>
<indexterm><primary>update.php</primary><secondary>$DB</secondary></indexterm>
<para><computeroutput><link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">global</link> $<link linkend="_class_d_b">DB</link></computeroutput></para></section>
<anchor xml:id="_install_2update_8php_1aa9fe133cd0add44f9368cd127b144111"/><section>
    <title>$GLPI</title>
<indexterm><primary>$GLPI</primary><secondary>update.php</secondary></indexterm>
<indexterm><primary>update.php</primary><secondary>$GLPI</secondary></indexterm>
<para><computeroutput>$<link linkend="_class_g_l_p_i">GLPI</link> = <link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">new</link> <link linkend="_class_g_l_p_i">GLPI</link>()</computeroutput></para></section>
<anchor xml:id="_install_2update_8php_1a829bfa0114cf4c327b3ad59afda570fb"/><section>
    <title>$GLPI_CACHE</title>
<indexterm><primary>$GLPI_CACHE</primary><secondary>update.php</secondary></indexterm>
<indexterm><primary>update.php</primary><secondary>$GLPI_CACHE</secondary></indexterm>
<para><computeroutput>$<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">GLPI_CACHE</link> = (<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">new</link> <link linkend="_class_glpi_1_1_cache_1_1_cache_manager">CacheManager</link>())-&gt;getInstallerCacheInstance()</computeroutput></para></section>
<anchor xml:id="_install_2update_8php_1a300b0fc015de2b2043ea33e932d73d3f"/><section>
    <title>$HEADER_LOADED</title>
<indexterm><primary>$HEADER_LOADED</primary><secondary>update.php</secondary></indexterm>
<indexterm><primary>update.php</primary><secondary>$HEADER_LOADED</secondary></indexterm>
<para><computeroutput>$<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">HEADER_LOADED</link> = true</computeroutput></para></section>
<anchor xml:id="_install_2update_8php_1a13a7db07df65d01cfbca768f443084cc"/><section>
    <title>$update</title>
<indexterm><primary>$update</primary><secondary>update.php</secondary></indexterm>
<indexterm><primary>update.php</primary><secondary>$update</secondary></indexterm>
<para><computeroutput>$update = <link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">new</link> <link linkend="_class_update">Update</link>($<link linkend="_class_d_b">DB</link>)</computeroutput></para></section>
<anchor xml:id="_install_2update_8php_1a224ad154ede3a358af27a26e088abced"/><section>
    <title>else</title>
<indexterm><primary>else</primary><secondary>update.php</secondary></indexterm>
<indexterm><primary>update.php</primary><secondary>else</secondary></indexterm>
<para><computeroutput><link linkend="_dropdown_location_8php_1a52332c22f84432520971794825a5a8e7">if</link> (<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">empty</link>( $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">_POST</link>[&quot;continuer&quot;]) &amp;&amp;<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">empty</link>( $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">_POST</link>[&quot;from_update&quot;])) else</computeroutput></para></section>
<anchor xml:id="_install_2update_8php_1a903d70c262a4e644cb5af1f114d1f58e"/><section>
    <title>if</title>
<indexterm><primary>if</primary><secondary>update.php</secondary></indexterm>
<indexterm><primary>update.php</primary><secondary>if</secondary></indexterm>
<para><computeroutput>if(!defined(&apos;<link linkend="_apirest_8php_1af6315dcee605fda09b6c3109c1b739b1">GLPI_ROOT</link>&apos;)) (! defined &apos;GLPI_ROOT&apos;)</computeroutput></para></section>
</section>
</section>
