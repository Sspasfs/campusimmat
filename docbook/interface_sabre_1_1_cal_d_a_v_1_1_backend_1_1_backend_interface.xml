<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface" xml:lang="fr">
<title>Référence de l&apos;interface BackendInterface</title>
<indexterm><primary>BackendInterface</primary></indexterm>
Graphe d&apos;héritage de BackendInterface:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface__inherit__graph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
Graphe de collaboration de BackendInterface:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface__coll__graph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
<simplesect>
    <title>Fonctions membres publiques    </title>
        <itemizedlist>
            <listitem><para><link linkend="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface_1a947af54f5824e1f6432f20114d228bfa">getCalendarsForUser</link> ($<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">principalUri</link>)</para>
</listitem>
            <listitem><para><link linkend="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface_1a45bef2074a277ab184b9c394876eea46">createCalendar</link> ($<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">principalUri</link>, $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">calendarUri</link>, array $properties)</para>
</listitem>
            <listitem><para><link linkend="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface_1a86a6693aeed2210d4f2ec91b9d63a19a">updateCalendar</link> ($<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">calendarId</link>, \<link linkend="_class_sabre_1_1_d_a_v_1_1_prop_patch">Sabre\DAV\PropPatch</link> $propPatch)</para>
</listitem>
            <listitem><para><link linkend="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface_1ae4aebea7283df8e03b32c5311e9ba9a1">deleteCalendar</link> ($<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">calendarId</link>)</para>
</listitem>
            <listitem><para><link linkend="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface_1abd2a63c95a850c89decb5d9dcb17ab29">getCalendarObjects</link> ($<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">calendarId</link>)</para>
</listitem>
            <listitem><para><link linkend="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface_1ac41b6968c525e1076d6166bce943afdd">getCalendarObject</link> ($<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">calendarId</link>, $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">objectUri</link>)</para>
</listitem>
            <listitem><para><link linkend="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface_1a32056c2cb2b3afad3ffdcf1dd740d595">getMultipleCalendarObjects</link> ($<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">calendarId</link>, array $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">uris</link>)</para>
</listitem>
            <listitem><para><link linkend="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface_1a9811d6d38f6fc0ef3b6763ceb41adae9">createCalendarObject</link> ($<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">calendarId</link>, $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">objectUri</link>, $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">calendarData</link>)</para>
</listitem>
            <listitem><para><link linkend="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface_1a9ea2bfbc4f52889c767e63dfdb979410">updateCalendarObject</link> ($<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">calendarId</link>, $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">objectUri</link>, $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">calendarData</link>)</para>
</listitem>
            <listitem><para><link linkend="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface_1a8ff5c0e50aaa7e3cfe7255c8d72b8108">deleteCalendarObject</link> ($<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">calendarId</link>, $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">objectUri</link>)</para>
</listitem>
            <listitem><para><link linkend="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface_1a142a02f6b828a0f809d4ae34cf6fc057">calendarQuery</link> ($<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">calendarId</link>, array $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">filters</link>)</para>
</listitem>
            <listitem><para><link linkend="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface_1a150ae4308d105ca62ec3d0908890cf51">getCalendarObjectByUID</link> ($<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">principalUri</link>, $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">uid</link>)</para>
</listitem>
        </itemizedlist>
</simplesect>
<section>
<title>Description détaillée</title>

<para>Every CalDAV backend must at least implement this interface.</para>

<para><formalpara><title>Copyright</title>

<para>Copyright (C) fruux GmbH (<link xlink:href="https://fruux.com/">https://fruux.com/</link>) </para>
</formalpara>
<formalpara><title>Auteur</title>

<para>Evert Pot (<link xlink:href="http://evertpot.com/">http://evertpot.com/</link>) @license <link xlink:href="http://sabre.io/license/">http://sabre.io/license/</link> Modified BSD License </para>
</formalpara>
</para>
</section>
<section>
<title>Documentation des fonctions membres</title>
<anchor xml:id="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface_1a142a02f6b828a0f809d4ae34cf6fc057"/><section>
    <title>calendarQuery()</title>
<indexterm><primary>calendarQuery</primary><secondary>BackendInterface</secondary></indexterm>
<indexterm><primary>BackendInterface</primary><secondary>calendarQuery</secondary></indexterm>
<para><computeroutput>calendarQuery ( $calendarId, array $filters)</computeroutput></para>
<para>Performs a calendar-query on the contents of this calendar.</para>

<para>The calendar-query is defined in RFC4791 : CalDAV. Using the calendar-query it is possible for a client to request a specific set of object, based on contents of iCalendar properties, date-ranges and iCalendar component types (VTODO, VEVENT).</para>

<para>This method should just return a list of (relative) urls that match this query.</para>

<para>The list of filters are specified as an array. The exact array is documented by Sabre\CalDAV\CalendarQueryParser.</para>

<para>Note that it is extremely likely that getCalendarObject for every path returned from this method will be called almost immediately after. You may want to anticipate this to speed up these requests.</para>

<para>This method provides a default implementation, which parses <emphasis>all</emphasis> the iCalendar objects in the specified calendar.</para>

<para>This default may well be good enough for personal use, and calendars that aren&apos;t very large. But if you anticipate high usage, big calendars or high loads, you are strongly adviced to optimize certain paths.</para>

<para>The best way to do so is override this method and to optimize specifically for &apos;common filters&apos;.</para>

<para>Requests that are extremely common are:<itemizedlist>
<listitem>
<para>requests for just VEVENTS</para>
</listitem><listitem>
<para>requests for just VTODO</para>
</listitem><listitem>
<para>requests with a time-range-filter on either VEVENT or VTODO.</para>
</listitem></itemizedlist>
</para>

<para>..and combinations of these requests. It may not be worth it to try to handle every possible situation and just rely on the (relatively easy to use) CalendarQueryValidator to handle the rest.</para>

<para>Note that especially time-range-filters may be difficult to parse. A time-range filter specified on a VEVENT must for instance also handle recurrence rules correctly. A good example of how to interprete all these filters can also simply be found in Sabre\CalDAV\CalendarQueryFilter. This class is as correct as possible, so it gives you a good idea on what type of stuff you need to think of.</para>

<para>
                <formalpara>
                    <title>
Paramètres</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="3" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>mixed</entry><entry>$calendarId</entry><entry></entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Renvoie</title>

<para>array </para>
</formalpara>
</para>
<para>
Implémenté dans <link linkend="_class_sabre_1_1_cal_d_a_v_1_1_backend_1_1_abstract_backend_1a142a02f6b828a0f809d4ae34cf6fc057">AbstractBackend</link>, et <link linkend="_class_sabre_1_1_cal_d_a_v_1_1_backend_1_1_p_d_o_1a142a02f6b828a0f809d4ae34cf6fc057">PDO</link>.</para>
</section>
<anchor xml:id="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface_1a45bef2074a277ab184b9c394876eea46"/><section>
    <title>createCalendar()</title>
<indexterm><primary>createCalendar</primary><secondary>BackendInterface</secondary></indexterm>
<indexterm><primary>BackendInterface</primary><secondary>createCalendar</secondary></indexterm>
<para><computeroutput>createCalendar ( $principalUri,  $calendarUri, array $properties)</computeroutput></para>
<para>Creates a new calendar for a principal.</para>

<para>If the creation was a success, an id must be returned that can be used to reference this calendar in other methods, such as updateCalendar.</para>

<para>The id can be any type, including ints, strings, objects or array.</para>

<para>
                <formalpara>
                    <title>
Paramètres</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="3" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>string</entry><entry>$principalUri</entry><entry>
<para></para>
</entry>
                            </row>
                            <row>
<entry>string</entry><entry>$calendarUri</entry><entry></entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Renvoie</title>

<para>mixed </para>
</formalpara>
</para>
<para>
Implémenté dans <link linkend="_class_glpi_1_1_cal_d_a_v_1_1_backend_1_1_calendar_1aae7da4dedfd702e842f9058010fb208d">Calendar</link>, <link linkend="_class_sabre_1_1_cal_d_a_v_1_1_backend_1_1_p_d_o_1a45bef2074a277ab184b9c394876eea46">PDO</link>, et <link linkend="_class_sabre_1_1_cal_d_a_v_1_1_backend_1_1_simple_p_d_o_1a45bef2074a277ab184b9c394876eea46">SimplePDO</link>.</para>
</section>
<anchor xml:id="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface_1a9811d6d38f6fc0ef3b6763ceb41adae9"/><section>
    <title>createCalendarObject()</title>
<indexterm><primary>createCalendarObject</primary><secondary>BackendInterface</secondary></indexterm>
<indexterm><primary>BackendInterface</primary><secondary>createCalendarObject</secondary></indexterm>
<para><computeroutput>createCalendarObject ( $calendarId,  $objectUri,  $calendarData)</computeroutput></para>
<para>Creates a new calendar object.</para>

<para>The object uri is only the basename, or filename and not a full path.</para>

<para>It is possible to return an etag from this function, which will be used in the response to this PUT request. Note that the ETag must be surrounded by double-quotes.</para>

<para>However, you should only really return this ETag if you don&apos;t mangle the calendar-data. If the result of a subsequent GET to this object is not the exact same as this request body, you should omit the ETag.</para>

<para>
                <formalpara>
                    <title>
Paramètres</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="3" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>mixed</entry><entry>$calendarId</entry><entry>
<para></para>
</entry>
                            </row>
                            <row>
<entry>string</entry><entry>$objectUri</entry><entry>
<para></para>
</entry>
                            </row>
                            <row>
<entry>string</entry><entry>$calendarData</entry><entry></entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Renvoie</title>

<para>string|null </para>
</formalpara>
</para>
<para>
Implémenté dans <link linkend="_class_glpi_1_1_cal_d_a_v_1_1_backend_1_1_calendar_1adbcd4fe7f4929d337f90e67732bddc0f">Calendar</link>, <link linkend="_class_sabre_1_1_cal_d_a_v_1_1_backend_1_1_p_d_o_1a9811d6d38f6fc0ef3b6763ceb41adae9">PDO</link>, et <link linkend="_class_sabre_1_1_cal_d_a_v_1_1_backend_1_1_simple_p_d_o_1a9811d6d38f6fc0ef3b6763ceb41adae9">SimplePDO</link>.</para>
</section>
<anchor xml:id="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface_1ae4aebea7283df8e03b32c5311e9ba9a1"/><section>
    <title>deleteCalendar()</title>
<indexterm><primary>deleteCalendar</primary><secondary>BackendInterface</secondary></indexterm>
<indexterm><primary>BackendInterface</primary><secondary>deleteCalendar</secondary></indexterm>
<para><computeroutput>deleteCalendar ( $calendarId)</computeroutput></para>
<para>Delete a calendar and all its objects.</para>

<para>
                <formalpara>
                    <title>
Paramètres</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="3" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>mixed</entry><entry>$calendarId</entry><entry>
<para></para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                </para>
<para>
Implémenté dans <link linkend="_class_glpi_1_1_cal_d_a_v_1_1_backend_1_1_calendar_1ae4aebea7283df8e03b32c5311e9ba9a1">Calendar</link>, <link linkend="_class_sabre_1_1_cal_d_a_v_1_1_backend_1_1_p_d_o_1ae4aebea7283df8e03b32c5311e9ba9a1">PDO</link>, et <link linkend="_class_sabre_1_1_cal_d_a_v_1_1_backend_1_1_simple_p_d_o_1ae4aebea7283df8e03b32c5311e9ba9a1">SimplePDO</link>.</para>
</section>
<anchor xml:id="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface_1a8ff5c0e50aaa7e3cfe7255c8d72b8108"/><section>
    <title>deleteCalendarObject()</title>
<indexterm><primary>deleteCalendarObject</primary><secondary>BackendInterface</secondary></indexterm>
<indexterm><primary>BackendInterface</primary><secondary>deleteCalendarObject</secondary></indexterm>
<para><computeroutput>deleteCalendarObject ( $calendarId,  $objectUri)</computeroutput></para>
<para>Deletes an existing calendar object.</para>

<para>The object uri is only the basename, or filename and not a full path.</para>

<para>
                <formalpara>
                    <title>
Paramètres</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="3" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>mixed</entry><entry>$calendarId</entry><entry>
<para></para>
</entry>
                            </row>
                            <row>
<entry>string</entry><entry>$objectUri</entry><entry>
<para></para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                </para>
<para>
Implémenté dans <link linkend="_class_glpi_1_1_cal_d_a_v_1_1_backend_1_1_calendar_1ae61569fe73f307927d957aeca05c3c1c">Calendar</link>, <link linkend="_class_sabre_1_1_cal_d_a_v_1_1_backend_1_1_p_d_o_1a8ff5c0e50aaa7e3cfe7255c8d72b8108">PDO</link>, et <link linkend="_class_sabre_1_1_cal_d_a_v_1_1_backend_1_1_simple_p_d_o_1a8ff5c0e50aaa7e3cfe7255c8d72b8108">SimplePDO</link>.</para>
</section>
<anchor xml:id="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface_1ac41b6968c525e1076d6166bce943afdd"/><section>
    <title>getCalendarObject()</title>
<indexterm><primary>getCalendarObject</primary><secondary>BackendInterface</secondary></indexterm>
<indexterm><primary>BackendInterface</primary><secondary>getCalendarObject</secondary></indexterm>
<para><computeroutput>getCalendarObject ( $calendarId,  $objectUri)</computeroutput></para>
<para>Returns information from a single calendar object, based on it&apos;s object uri.</para>

<para>The object uri is only the basename, or filename and not a full path.</para>

<para>The returned array must have the same keys as getCalendarObjects. The &apos;calendardata&apos; object is required here though, while it&apos;s not required for getCalendarObjects.</para>

<para>This method must return null if the object did not exist.</para>

<para>
                <formalpara>
                    <title>
Paramètres</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="3" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>mixed</entry><entry>$calendarId</entry><entry>
<para></para>
</entry>
                            </row>
                            <row>
<entry>string</entry><entry>$objectUri</entry><entry></entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Renvoie</title>

<para>array|null </para>
</formalpara>
</para>
<para>
Implémenté dans <link linkend="_class_glpi_1_1_cal_d_a_v_1_1_backend_1_1_calendar_1a65990fcc53571cc5d723c9df50f5bddd">Calendar</link>, <link linkend="_class_sabre_1_1_cal_d_a_v_1_1_backend_1_1_p_d_o_1ac41b6968c525e1076d6166bce943afdd">PDO</link>, et <link linkend="_class_sabre_1_1_cal_d_a_v_1_1_backend_1_1_simple_p_d_o_1ac41b6968c525e1076d6166bce943afdd">SimplePDO</link>.</para>
Voici le graphe des appelants de cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface_ac41b6968c525e1076d6166bce943afdd_icgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface_1a150ae4308d105ca62ec3d0908890cf51"/><section>
    <title>getCalendarObjectByUID()</title>
<indexterm><primary>getCalendarObjectByUID</primary><secondary>BackendInterface</secondary></indexterm>
<indexterm><primary>BackendInterface</primary><secondary>getCalendarObjectByUID</secondary></indexterm>
<para><computeroutput>getCalendarObjectByUID ( $principalUri,  $uid)</computeroutput></para>
<para>Searches through all of a users calendars and calendar objects to find an object with a specific UID.</para>

<para>This method should return the path to this object, relative to the calendar home, so this path usually only contains two parts:</para>

<para>calendarpath/objectpath.ics</para>

<para>If the uid is not found, return null.</para>

<para>This method should only consider * objects that the principal owns, so any calendars owned by other principals that also appear in this collection should be ignored.</para>

<para>
                <formalpara>
                    <title>
Paramètres</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="3" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>string</entry><entry>$principalUri</entry><entry>
<para></para>
</entry>
                            </row>
                            <row>
<entry>string</entry><entry>$uid</entry><entry></entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Renvoie</title>

<para>string|null </para>
</formalpara>
</para>
<para>
Implémenté dans <link linkend="_class_sabre_1_1_cal_d_a_v_1_1_backend_1_1_abstract_backend_1a150ae4308d105ca62ec3d0908890cf51">AbstractBackend</link>, et <link linkend="_class_sabre_1_1_cal_d_a_v_1_1_backend_1_1_p_d_o_1a150ae4308d105ca62ec3d0908890cf51">PDO</link>.</para>
</section>
<anchor xml:id="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface_1abd2a63c95a850c89decb5d9dcb17ab29"/><section>
    <title>getCalendarObjects()</title>
<indexterm><primary>getCalendarObjects</primary><secondary>BackendInterface</secondary></indexterm>
<indexterm><primary>BackendInterface</primary><secondary>getCalendarObjects</secondary></indexterm>
<para><computeroutput>getCalendarObjects ( $calendarId)</computeroutput></para>
<para>Returns all calendar objects within a calendar.</para>

<para>Every item contains an array with the following keys:<itemizedlist>
<listitem>
<para>calendardata - The iCalendar-compatible calendar data</para>
</listitem><listitem>
<para>uri - a unique key which will be used to construct the uri. This can be any arbitrary string, but making sure it ends with &apos;.ics&apos; is a good idea. This is only the basename, or filename, not the full path.</para>
</listitem><listitem>
<para>lastmodified - a timestamp of the last modification time</para>
</listitem><listitem>
<para>etag - An arbitrary string, surrounded by double-quotes. (e.g.: &apos;&quot;abcdef&quot;&apos;)</para>
</listitem><listitem>
<para>size - The size of the calendar objects, in bytes.</para>
</listitem><listitem>
<para>component - optional, a string containing the type of object, such as &apos;vevent&apos; or &apos;vtodo&apos;. If specified, this will be used to populate the Content-Type header.</para>
</listitem></itemizedlist>
</para>

<para>Note that the etag is optional, but it&apos;s highly encouraged to return for speed reasons.</para>

<para>The calendardata is also optional. If it&apos;s not returned &apos;getCalendarObject&apos; will be called later, which <emphasis>is</emphasis> expected to return calendardata.</para>

<para>If neither etag or size are specified, the calendardata will be used/fetched to determine these numbers. If both are specified the amount of times this is needed is reduced by a great degree.</para>

<para>
                <formalpara>
                    <title>
Paramètres</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="3" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>mixed</entry><entry>$calendarId</entry><entry></entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Renvoie</title>

<para>array </para>
</formalpara>
</para>
<para>
Implémenté dans <link linkend="_class_sabre_1_1_cal_d_a_v_1_1_backend_1_1_p_d_o_1abd2a63c95a850c89decb5d9dcb17ab29">PDO</link>, et <link linkend="_class_sabre_1_1_cal_d_a_v_1_1_backend_1_1_simple_p_d_o_1abd2a63c95a850c89decb5d9dcb17ab29">SimplePDO</link>.</para>
Voici le graphe des appelants de cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface_abd2a63c95a850c89decb5d9dcb17ab29_icgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface_1a947af54f5824e1f6432f20114d228bfa"/><section>
    <title>getCalendarsForUser()</title>
<indexterm><primary>getCalendarsForUser</primary><secondary>BackendInterface</secondary></indexterm>
<indexterm><primary>BackendInterface</primary><secondary>getCalendarsForUser</secondary></indexterm>
<para><computeroutput>getCalendarsForUser ( $principalUri)</computeroutput></para>
<para>Returns a list of calendars for a principal.</para>

<para>Every project is an array with the following keys:<itemizedlist>
<listitem>
<para>id, a unique id that will be used by other functions to modify the calendar. This can be the same as the uri or a database key.</para>
</listitem><listitem>
<para>uri, which is the basename of the uri with which the calendar is accessed.</para>
</listitem><listitem>
<para>principaluri. The owner of the calendar. Almost always the same as principalUri passed to this method.</para>
</listitem></itemizedlist>
</para>

<para>Furthermore it can contain webdav properties in clark notation. A very common one is &apos;{DAV:}displayname&apos;.</para>

<para>Many clients also require: {urn:ietf:params:xml:ns:caldav}supported-calendar-component-set For this property, you can just return an instance of Sabre\CalDAV\Property\SupportedCalendarComponentSet.</para>

<para>If you return {<link xlink:href="http://sabredav.org/ns">http://sabredav.org/ns</link>}read-only and set the value to 1, ACL will automatically be put in read-only mode.</para>

<para>
                <formalpara>
                    <title>
Paramètres</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="3" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>string</entry><entry>$principalUri</entry><entry></entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Renvoie</title>

<para>array </para>
</formalpara>
</para>
<para>
Implémenté dans <link linkend="_class_sabre_1_1_cal_d_a_v_1_1_backend_1_1_p_d_o_1a947af54f5824e1f6432f20114d228bfa">PDO</link>, et <link linkend="_class_sabre_1_1_cal_d_a_v_1_1_backend_1_1_simple_p_d_o_1a947af54f5824e1f6432f20114d228bfa">SimplePDO</link>.</para>
Voici le graphe des appelants de cette fonction :<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface_a947af54f5824e1f6432f20114d228bfa_icgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface_1a32056c2cb2b3afad3ffdcf1dd740d595"/><section>
    <title>getMultipleCalendarObjects()</title>
<indexterm><primary>getMultipleCalendarObjects</primary><secondary>BackendInterface</secondary></indexterm>
<indexterm><primary>BackendInterface</primary><secondary>getMultipleCalendarObjects</secondary></indexterm>
<para><computeroutput>getMultipleCalendarObjects ( $calendarId, array $uris)</computeroutput></para>
<para>Returns a list of calendar objects.</para>

<para>This method should work identical to getCalendarObject, but instead return all the calendar objects in the list as an array.</para>

<para>If the backend supports this, it may allow for some speed-ups.</para>

<para>
                <formalpara>
                    <title>
Paramètres</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="3" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>mixed</entry><entry>$calendarId</entry><entry></entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Renvoie</title>

<para>array </para>
</formalpara>
</para>
<para>
Implémenté dans <link linkend="_class_sabre_1_1_cal_d_a_v_1_1_backend_1_1_abstract_backend_1a32056c2cb2b3afad3ffdcf1dd740d595">AbstractBackend</link>, et <link linkend="_class_sabre_1_1_cal_d_a_v_1_1_backend_1_1_p_d_o_1a32056c2cb2b3afad3ffdcf1dd740d595">PDO</link>.</para>
</section>
<anchor xml:id="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface_1a86a6693aeed2210d4f2ec91b9d63a19a"/><section>
    <title>updateCalendar()</title>
<indexterm><primary>updateCalendar</primary><secondary>BackendInterface</secondary></indexterm>
<indexterm><primary>BackendInterface</primary><secondary>updateCalendar</secondary></indexterm>
<para><computeroutput>updateCalendar ( $calendarId, \<link linkend="_class_sabre_1_1_d_a_v_1_1_prop_patch">Sabre\DAV\PropPatch</link> $propPatch)</computeroutput></para>
<para>Updates properties for a calendar.</para>

<para>The list of mutations is stored in a Sabre\DAV\PropPatch object. To do the actual updates, you must tell this object which properties you&apos;re going to process with the handle() method.</para>

<para>Calling the handle method is like telling the PropPatch object &quot;I
promise I can handle updating this property&quot;.</para>

<para>Read the PropPatch documentation for more info and examples.</para>

<para>
                <formalpara>
                    <title>
Paramètres</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="3" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>mixed</entry><entry>$calendarId</entry><entry>
<para></para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                </para>
<para>
Implémenté dans <link linkend="_class_sabre_1_1_cal_d_a_v_1_1_backend_1_1_abstract_backend_1a86a6693aeed2210d4f2ec91b9d63a19a">AbstractBackend</link>.</para>
</section>
<anchor xml:id="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface_1a9ea2bfbc4f52889c767e63dfdb979410"/><section>
    <title>updateCalendarObject()</title>
<indexterm><primary>updateCalendarObject</primary><secondary>BackendInterface</secondary></indexterm>
<indexterm><primary>BackendInterface</primary><secondary>updateCalendarObject</secondary></indexterm>
<para><computeroutput>updateCalendarObject ( $calendarId,  $objectUri,  $calendarData)</computeroutput></para>
<para>Updates an existing calendarobject, based on it&apos;s uri.</para>

<para>The object uri is only the basename, or filename and not a full path.</para>

<para>It is possible return an etag from this function, which will be used in the response to this PUT request. Note that the ETag must be surrounded by double-quotes.</para>

<para>However, you should only really return this ETag if you don&apos;t mangle the calendar-data. If the result of a subsequent GET to this object is not the exact same as this request body, you should omit the ETag.</para>

<para>
                <formalpara>
                    <title>
Paramètres</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="3" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>mixed</entry><entry>$calendarId</entry><entry>
<para></para>
</entry>
                            </row>
                            <row>
<entry>string</entry><entry>$objectUri</entry><entry>
<para></para>
</entry>
                            </row>
                            <row>
<entry>string</entry><entry>$calendarData</entry><entry></entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Renvoie</title>

<para>string|null </para>
</formalpara>
</para>
<para>
Implémenté dans <link linkend="_class_glpi_1_1_cal_d_a_v_1_1_backend_1_1_calendar_1a4e8a3ba592617cefaee5d01a472fa11e">Calendar</link>, <link linkend="_class_sabre_1_1_cal_d_a_v_1_1_backend_1_1_p_d_o_1a9ea2bfbc4f52889c767e63dfdb979410">PDO</link>, et <link linkend="_class_sabre_1_1_cal_d_a_v_1_1_backend_1_1_simple_p_d_o_1a9ea2bfbc4f52889c767e63dfdb979410">SimplePDO</link>.</para>
</section>
<para>
La documentation de cette interface a été générée à partir du fichier suivant :</para>
public/glpi/vendor/sabre/dav/lib/CalDAV/Backend/<link linkend="__cal_d_a_v_2_backend_2_backend_interface_8php">BackendInterface.php</link></section>
</section>
