<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_subscription_support" xml:lang="fr">
<title>Référence de l&apos;interface SubscriptionSupport</title>
<indexterm><primary>SubscriptionSupport</primary></indexterm>
Graphe d&apos;héritage de SubscriptionSupport:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_subscription_support__inherit__graph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
Graphe de collaboration de SubscriptionSupport:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_subscription_support__coll__graph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
<simplesect>
    <title>Fonctions membres publiques    </title>
        <itemizedlist>
            <listitem><para><link linkend="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_subscription_support_1a60d03afaa35c9085bdfa5a741287f054">getSubscriptionsForUser</link> ($<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">principalUri</link>)</para>
</listitem>
            <listitem><para><link linkend="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_subscription_support_1acd4e1c747d0465e65f90fc04028a19d0">createSubscription</link> ($<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">principalUri</link>, $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">uri</link>, array $properties)</para>
</listitem>
            <listitem><para><link linkend="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_subscription_support_1a022bd443284b53534b6a2c9d3a1b09f0">updateSubscription</link> ($<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">subscriptionId</link>, <link linkend="_class_sabre_1_1_d_a_v_1_1_prop_patch">DAV\PropPatch</link> $propPatch)</para>
</listitem>
            <listitem><para><link linkend="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_subscription_support_1ae12a362e3ff1679ce41282c8f32c9447">deleteSubscription</link> ($<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">subscriptionId</link>)</para>
</listitem>
        </itemizedlist>
</simplesect>
Fonctions membres publiques hérités de <link linkend="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface">BackendInterface</link>        <itemizedlist>
            <listitem><para><link linkend="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface_1a947af54f5824e1f6432f20114d228bfa">getCalendarsForUser</link> ($<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">principalUri</link>)</para>
</listitem>
            <listitem><para><link linkend="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface_1a45bef2074a277ab184b9c394876eea46">createCalendar</link> ($<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">principalUri</link>, $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">calendarUri</link>, array $properties)</para>
</listitem>
            <listitem><para><link linkend="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface_1a86a6693aeed2210d4f2ec91b9d63a19a">updateCalendar</link> ($<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">calendarId</link>, \<link linkend="_class_sabre_1_1_d_a_v_1_1_prop_patch">Sabre\DAV\PropPatch</link> $propPatch)</para>
</listitem>
            <listitem><para><link linkend="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface_1ae4aebea7283df8e03b32c5311e9ba9a1">deleteCalendar</link> ($<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">calendarId</link>)</para>
</listitem>
            <listitem><para><link linkend="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface_1abd2a63c95a850c89decb5d9dcb17ab29">getCalendarObjects</link> ($<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">calendarId</link>)</para>
</listitem>
            <listitem><para><link linkend="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface_1ac41b6968c525e1076d6166bce943afdd">getCalendarObject</link> ($<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">calendarId</link>, $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">objectUri</link>)</para>
</listitem>
            <listitem><para><link linkend="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface_1a32056c2cb2b3afad3ffdcf1dd740d595">getMultipleCalendarObjects</link> ($<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">calendarId</link>, array $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">uris</link>)</para>
</listitem>
            <listitem><para><link linkend="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface_1a9811d6d38f6fc0ef3b6763ceb41adae9">createCalendarObject</link> ($<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">calendarId</link>, $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">objectUri</link>, $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">calendarData</link>)</para>
</listitem>
            <listitem><para><link linkend="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface_1a9ea2bfbc4f52889c767e63dfdb979410">updateCalendarObject</link> ($<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">calendarId</link>, $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">objectUri</link>, $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">calendarData</link>)</para>
</listitem>
            <listitem><para><link linkend="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface_1a8ff5c0e50aaa7e3cfe7255c8d72b8108">deleteCalendarObject</link> ($<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">calendarId</link>, $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">objectUri</link>)</para>
</listitem>
            <listitem><para><link linkend="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface_1a142a02f6b828a0f809d4ae34cf6fc057">calendarQuery</link> ($<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">calendarId</link>, array $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">filters</link>)</para>
</listitem>
            <listitem><para><link linkend="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_backend_interface_1a150ae4308d105ca62ec3d0908890cf51">getCalendarObjectByUID</link> ($<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">principalUri</link>, $<link linkend="_report_8contract_8php_1a77b973d137fb33212e018b042df6e3e7">uid</link>)</para>
</listitem>
        </itemizedlist>
<section>
<title>Description détaillée</title>

<para>Every CalDAV backend must at least implement this interface.</para>

<para><formalpara><title>Copyright</title>

<para>Copyright (C) fruux GmbH (<link xlink:href="https://fruux.com/">https://fruux.com/</link>) </para>
</formalpara>
<formalpara><title>Auteur</title>

<para>Evert Pot (<link xlink:href="http://evertpot.com/">http://evertpot.com/</link>) @license <link xlink:href="http://sabre.io/license/">http://sabre.io/license/</link> Modified BSD License </para>
</formalpara>
</para>
</section>
<section>
<title>Documentation des fonctions membres</title>
<anchor xml:id="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_subscription_support_1acd4e1c747d0465e65f90fc04028a19d0"/><section>
    <title>createSubscription()</title>
<indexterm><primary>createSubscription</primary><secondary>SubscriptionSupport</secondary></indexterm>
<indexterm><primary>SubscriptionSupport</primary><secondary>createSubscription</secondary></indexterm>
<para><computeroutput>createSubscription ( $principalUri,  $uri, array $properties)</computeroutput></para>
<para>Creates a new subscription for a principal.</para>

<para>If the creation was a success, an id must be returned that can be used to reference this subscription in other methods, such as updateSubscription.</para>

<para>
                <formalpara>
                    <title>
Paramètres</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="3" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>string</entry><entry>$principalUri</entry><entry>
<para></para>
</entry>
                            </row>
                            <row>
<entry>string</entry><entry>$uri</entry><entry></entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Renvoie</title>

<para>mixed </para>
</formalpara>
</para>
<para>
Implémenté dans <link linkend="_class_sabre_1_1_cal_d_a_v_1_1_backend_1_1_p_d_o_1acd4e1c747d0465e65f90fc04028a19d0">PDO</link>.</para>
</section>
<anchor xml:id="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_subscription_support_1ae12a362e3ff1679ce41282c8f32c9447"/><section>
    <title>deleteSubscription()</title>
<indexterm><primary>deleteSubscription</primary><secondary>SubscriptionSupport</secondary></indexterm>
<indexterm><primary>SubscriptionSupport</primary><secondary>deleteSubscription</secondary></indexterm>
<para><computeroutput>deleteSubscription ( $subscriptionId)</computeroutput></para>
<para>Deletes a subscription.</para>

<para>
                <formalpara>
                    <title>
Paramètres</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="3" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>mixed</entry><entry>$subscriptionId</entry><entry>
<para></para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                </para>
<para>
Implémenté dans <link linkend="_class_sabre_1_1_cal_d_a_v_1_1_backend_1_1_p_d_o_1ae12a362e3ff1679ce41282c8f32c9447">PDO</link>.</para>
</section>
<anchor xml:id="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_subscription_support_1a60d03afaa35c9085bdfa5a741287f054"/><section>
    <title>getSubscriptionsForUser()</title>
<indexterm><primary>getSubscriptionsForUser</primary><secondary>SubscriptionSupport</secondary></indexterm>
<indexterm><primary>SubscriptionSupport</primary><secondary>getSubscriptionsForUser</secondary></indexterm>
<para><computeroutput>getSubscriptionsForUser ( $principalUri)</computeroutput></para>
<para>Returns a list of subscriptions for a principal.</para>

<para>Every subscription is an array with the following keys:<itemizedlist>
<listitem>
<para>id, a unique id that will be used by other functions to modify the subscription. This can be the same as the uri or a database key.</para>
</listitem><listitem>
<para>uri. This is just the &apos;base uri&apos; or &apos;filename&apos; of the subscription.</para>
</listitem><listitem>
<para>principaluri. The owner of the subscription. Almost always the same as principalUri passed to this method.</para>
</listitem></itemizedlist>
</para>

<para>Furthermore, all the subscription info must be returned too:</para>

<para><orderedlist>
<listitem>
<para>{DAV:}displayname</para>
</listitem><listitem>
<para>{<link xlink:href="http://apple.com/ns/ical/">http://apple.com/ns/ical/</link>}refreshrate</para>
</listitem><listitem>
<para>{<link xlink:href="http://calendarserver.org/ns/">http://calendarserver.org/ns/</link>}subscribed-strip-todos (omit if todos should not be stripped).</para>
</listitem><listitem>
<para>{<link xlink:href="http://calendarserver.org/ns/">http://calendarserver.org/ns/</link>}subscribed-strip-alarms (omit if alarms should not be stripped).</para>
</listitem><listitem>
<para>{<link xlink:href="http://calendarserver.org/ns/">http://calendarserver.org/ns/</link>}subscribed-strip-attachments (omit if attachments should not be stripped).</para>
</listitem><listitem>
<para>{<link xlink:href="http://calendarserver.org/ns/">http://calendarserver.org/ns/</link>}source (Must be a Sabre\DAV\Property\Href).</para>
</listitem><listitem>
<para>{<link xlink:href="http://apple.com/ns/ical/">http://apple.com/ns/ical/</link>}calendar-color</para>
</listitem><listitem>
<para>{<link xlink:href="http://apple.com/ns/ical/">http://apple.com/ns/ical/</link>}calendar-order</para>
</listitem><listitem>
<para>{urn:ietf:params:xml:ns:caldav}supported-calendar-component-set (should just be an instance of Sabre\CalDAV\Property\SupportedCalendarComponentSet, with a bunch of default components).</para>
</listitem></orderedlist>
</para>

<para>
                <formalpara>
                    <title>
Paramètres</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="3" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>string</entry><entry>$principalUri</entry><entry></entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Renvoie</title>

<para>array </para>
</formalpara>
</para>
<para>
Implémenté dans <link linkend="_class_sabre_1_1_cal_d_a_v_1_1_backend_1_1_p_d_o_1a60d03afaa35c9085bdfa5a741287f054">PDO</link>.</para>
</section>
<anchor xml:id="_interface_sabre_1_1_cal_d_a_v_1_1_backend_1_1_subscription_support_1a022bd443284b53534b6a2c9d3a1b09f0"/><section>
    <title>updateSubscription()</title>
<indexterm><primary>updateSubscription</primary><secondary>SubscriptionSupport</secondary></indexterm>
<indexterm><primary>SubscriptionSupport</primary><secondary>updateSubscription</secondary></indexterm>
<para><computeroutput>updateSubscription ( $subscriptionId, <link linkend="_class_sabre_1_1_d_a_v_1_1_prop_patch">DAV\PropPatch</link> $propPatch)</computeroutput></para>
<para>Updates a subscription.</para>

<para>The list of mutations is stored in a Sabre\DAV\PropPatch object. To do the actual updates, you must tell this object which properties you&apos;re going to process with the handle() method.</para>

<para>Calling the handle method is like telling the PropPatch object &quot;I
promise I can handle updating this property&quot;.</para>

<para>Read the PropPatch documentation for more info and examples.</para>

<para>
                <formalpara>
                    <title>
Paramètres</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="3" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>mixed</entry><entry>$subscriptionId</entry><entry>
<para></para>
</entry>
                            </row>
                            <row>
<entry>\Sabre\DAV\PropPatch</entry><entry>$propPatch</entry><entry>
<para></para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                </para>
</section>
<para>
La documentation de cette interface a été générée à partir du fichier suivant :</para>
public/glpi/vendor/sabre/dav/lib/CalDAV/Backend/<link linkend="__subscription_support_8php">SubscriptionSupport.php</link></section>
</section>
