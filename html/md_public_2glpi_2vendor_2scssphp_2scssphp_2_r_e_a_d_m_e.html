<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="fr">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CampusImmat: scssphp</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">CampusImmat
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Généré par Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Recherche');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Chargement...</div>
<div class="SRStatus" id="Searching">Recherche...</div>
<div class="SRStatus" id="NoMatches">Aucune correspondance</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">scssphp</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md7110"></a></p>
<h2><a class="anchor" id="autotoc_md7111"></a>
<a href="https://scssphp.github.io/scssphp">https://scssphp.github.io/scssphp</a></h2>
<p><img src="https://github.com/scssphp/scssphp/workflows/CI/badge.svg" alt="Build" style="pointer-events: none;" class="inline"/> <a href="https://packagist.org/packages/scssphp/scssphp"><img src="https://poser.pugx.org/scssphp/scssphp/license" alt="License" class="inline"/></a></p>
<p><code>scssphp</code> is a compiler for SCSS written in PHP.</p>
<p>Checkout the homepage, <a href="https://scssphp.github.io/scssphp">https://scssphp.github.io/scssphp</a>, for directions on how to use.</p>
<h1><a class="anchor" id="autotoc_md7112"></a>
Running Tests</h1>
<p><code>scssphp</code> uses <a href="https://github.com/sebastianbergmann/phpunit">PHPUnit</a> for testing.</p>
<p>Run the following command from the root directory to run every test: </p><pre class="fragment">vendor/bin/phpunit tests
</pre><p> There are several tests in the <code>tests/</code> directory:</p>
<ul>
<li><code>ApiTest.php</code> contains various unit tests that test the PHP interface.</li>
<li><code>ExceptionTest.php</code> contains unit tests that test for exceptions thrown by the parser and compiler.</li>
<li><code>FailingTest.php</code> contains tests reported in Github issues that demonstrate compatibility bugs.</li>
<li><code>InputTest.php</code> compiles every <code>.scss</code> file in the <code>tests/inputs</code> directory then compares to the respective <code>.css</code> file in the <code>tests/outputs</code> directory.</li>
<li><code>SassSpecTest.php</code> extracts tests from the <code>sass/sass-spec</code> repository.</li>
</ul>
<p>When changing any of the tests in <code>tests/inputs</code>, the tests will most likely fail because the output has changed. Once you verify that the output is correct you can run the following command to rebuild all the tests: </p><pre class="fragment">BUILD=1 vendor/bin/phpunit tests
</pre><p> This will compile all the tests, and save results into <code>tests/outputs</code>. It also updates the list of excluded specs from sass-spec.</p>
<p>To enable the full <code>sass-spec</code> compatibility tests: </p><pre class="fragment">TEST_SASS_SPEC=1 vendor/bin/phpunit tests
</pre> <h1><a class="anchor" id="autotoc_md7113"></a>
Coding Standard</h1>
<p><code>scssphp</code> source conforms to <a href="https://www.php-fig.org/psr/psr-12/">PSR12</a>.</p>
<p>Run the following command from the root directory to check the code for "sniffs". </p><pre class="fragment">vendor/bin/phpcs --standard=PSR12 --extensions=php bin src tests *.php
</pre> <h1><a class="anchor" id="autotoc_md7114"></a>
Static Analysis</h1>
<p><code>scssphp</code> uses <a href="https://phpstan.org/">phpstan</a> for static analysis.</p>
<p>Run the following command from the root directory to analyse the codebase: </p><pre class="fragment">make phpstan
</pre><p> As most of the codebase is composed of legacy code which cannot be type-checked fully, the setup contains a baseline file with all errors we want to ignore. In particular, we ignore all errors related to not specifying the types inside arrays when these arrays correspond to the representation of Sass values and Sass AST nodes in the parser and compiler. When contributing, the proper process to deal with static analysis is the following:</p>
<ol type="1">
<li>Make your change in the codebase</li>
<li>Run <code>make phpstan</code></li>
<li>Fix errors reported by phpstan when possible</li>
<li>Repeat step 2 and 3 until nothing gets fixed anymore at step 3</li>
<li>Run <code>make phpstan-baseline</code> to regenerate the phpstan baseline</li>
</ol>
<p>Additions to the baseline will be reviewed to avoid ignoring errors that should have been fixed. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Généré par&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
