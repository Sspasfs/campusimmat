<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="fr">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CampusImmat: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">CampusImmat
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Généré par Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Recherche');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Chargement...</div>
<div class="SRStatus" id="Searching">Recherche...</div>
<div class="SRStatus" id="NoMatches">Aucune correspondance</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">README</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><em>UnifiedArchive</em> - an archive manager with unified interface for different formats that works on wide variety of system configuration. It supports all basic operations on widespread formats and some format-specific features for most popular ones (zip, rar, 7z, tar).</p>
<p>Main purpose of this library is to create unified interface for popular archive formats, that works in various system configurations via different drivers, when there is no ability to update system configuration, when code delivered to another system configurations, or when you just want to install libraries and work. It's handy when there's need to support archive types regardless of the system configuration.</p>
<p><a href="https://packagist.org/packages/wapmorgan/unified-archive"><img src="https://poser.pugx.org/wapmorgan/unified-archive/v/stable" alt="Latest Stable Version" class="inline"/></a> <a href="https://packagist.org/packages/wapmorgan/unified-archive"><img src="https://poser.pugx.org/wapmorgan/unified-archive/downloads" alt="Total Downloads" class="inline"/></a> <a href="https://packagist.org/packages/wapmorgan/unified-archive"><img src="https://poser.pugx.org/wapmorgan/unified-archive/d/daily" alt="Daily Downloads" class="inline"/></a> <a href="https://packagist.org/packages/wapmorgan/unified-archive"><img src="https://poser.pugx.org/wapmorgan/unified-archive/license" alt="License" class="inline"/></a> <a href="https://packagist.org/packages/wapmorgan/unified-archive"><img src="https://poser.pugx.org/wapmorgan/unified-archive/v/unstable" alt="Latest Unstable Version" class="inline"/></a></p>
<p><a class="el" href="namespace_tests.html">Tests</a> &amp; Quality: <a href="https://scrutinizer-ci.com/g/wapmorgan/UnifiedArchive/?branch=master"><img src="https://scrutinizer-ci.com/g/wapmorgan/UnifiedArchive/badges/quality-score.png?b=master" alt="Scrutinizer Code Quality" class="inline"/></a> <a href="https://scrutinizer-ci.com/g/wapmorgan/UnifiedArchive/?branch=master"><img src="https://scrutinizer-ci.com/g/wapmorgan/UnifiedArchive/badges/coverage.png?b=master" alt="Code Coverage" class="inline"/></a></p>
<ol type="1">
<li><a class="el" href="report_8contract_8php.html#a77b973d137fb33212e018b042df6e3e7">Functions &amp; Features</a></li>
<li><a class="el" href="report_8contract_8php.html#a77b973d137fb33212e018b042df6e3e7">How it works</a></li>
<li><a class="el" href="report_8contract_8php.html#a77b973d137fb33212e018b042df6e3e7">Quick start</a></li>
<li><a class="el" href="report_8contract_8php.html#a77b973d137fb33212e018b042df6e3e7">Built-in console archive manager</a></li>
<li><a class="el" href="md_public_2glpi_2vendor_2wapmorgan_2unified-archive_2docs_2_usage.html">Usage</a></li>
<li><a class="el" href="md_public_2glpi_2vendor_2wapmorgan_2unified-archive_2docs_2_drivers.html">Drivers &amp; formats</a></li>
<li><a class="el" href="md_public_2glpi_2vendor_2wapmorgan_2unified-archive_2docs_2_a_p_i.html">Full API description</a></li>
<li><a class="el" href="md_public_2glpi_2vendor_2wapmorgan_2unified-archive_2_c_h_a_n_g_e_l_o_g.html">Changelog</a></li>
</ol>
<h1><a class="anchor" id="autotoc_md7507"></a>
Functions &amp; Features</h1>
<p>UnifiedArchive is aimed to provide all operations on popular archive formats (zip, tar, rar, 7z) by all means and at better performance (depends on your OS/PHP configuration). Also, it allows to work with less popular archive types (with lack of functions).</p>
<p>Main functions:</p><ul>
<li>Open an archive with automatic format detection (more 20 formats).</li>
<li>List archive content, calculate original size of archive</li>
<li>Get details (original size, date of modification) of every archived file. Extract or stream archived file content</li>
<li>Extract all archive content. Append an archive with new files or directories. Remove files from archive</li>
<li>Create new archives with files/directories on disk and stream from memory</li>
<li>Fully implemented <a href="docs/API.md#UnifiedArchive--getPclZipInterface">PclZip-like interface for archives</a> for all formats. Easy transition from old PclZip.</li>
<li>Bundled with cli utility</li>
</ul>
<p>Specific functions:</p><ul>
<li>Read (zip, rar) &amp; set (zip) archive comment</li>
<li><a href="docs/API.md#UnifiedArchive--open">Open archives encrypted with password (zip, rar, 7z)</a></li>
<li>Set passwords (7z, zip) for new archives</li>
<li><a href="docs/API.md#UnifiedArchive--archiveFiles">Adjust compression level (zip, gzip, 7zip)</a> for new archives</li>
</ul>
<h1><a class="anchor" id="autotoc_md7508"></a>
How it works</h1>
<p>UnifiedArchive uses "drivers", which can be one of types:</p><ol type="1">
<li>PHP Extensions</li>
<li>Utilities + bridge</li>
<li>Pure PHP</li>
</ol>
<p>By default, UA goes top-down to select first available driver for passed archive. So, PHP Extension driver will be used (if available), then Utilities + bridge driver (if available), and then Pure PHP driver.</p>
<p>There is at least one driver in all three types, which handles <b>zip</b> format, so this format can be fully supported in any OS/PHP configuration:</p><ol type="1">
<li>zip / phar PHP extensions</li>
<li>Utility + bridge SevenZip / AlchemyZippy</li>
<li>Pure NelexaZip</li>
</ol>
<p><b>tar</b> format (with compressed variants) supported by:</p><ol type="1">
<li>phar PHP extension</li>
<li>Utility + bridge SevenZip / AlchemyZippy</li>
<li>Pure TarByPear</li>
</ol>
<p><b>So, there is always one driver that supports popular formats, and you should not remember how to work with this concrete driver (zip/phar/SevenZip/AlchemyZippy/NelexaZip), interface for them is uniform.</b></p>
<h1><a class="anchor" id="autotoc_md7509"></a>
Quick start</h1>
<h2><a class="anchor" id="autotoc_md7510"></a>
Installation and configuration</h2>
<h3><a class="anchor" id="autotoc_md7511"></a>
Install library</h3>
<div class="fragment"><div class="line">composer require wapmorgan/unified-archive</div>
<div class="line">#Check supported formats with installed drivers</div>
<div class="line">./vendor/bin/cam system:formats</div>
<div class="line">#Check supported functions for zip format</div>
<div class="line">./vendor/bin/cam system:format zip</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md7512"></a>
Install new driver</h3>
<div class="fragment"><div class="line">#Read installation instructions from</div>
<div class="line">./vendor/bin/cam system:drivers</div>
<div class="line">#install missing drivers, for example pear/archive_tar</div>
<div class="line">composer require pear/archive_tar</div>
<div class="line">#check out driver functions</div>
<div class="line">./vendor/bin/cam system:formats TarByPear</div>
<div class="line"> </div>
<div class="line">#if needed, install extensions, cli tools and php libraries</div>
<div class="line">#to enable support of other formats</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md7513"></a>
Usage</h2>
<div class="fragment"><div class="line"><a class="code hl_variable" href="report_8contract_8php.html#a77b973d137fb33212e018b042df6e3e7">use \wapmorgan\UnifiedArchive\UnifiedArchive</a>;</div>
<div class="line"> </div>
<div class="line"><a class="code hl_variable" href="report_8contract_8php.html#a77b973d137fb33212e018b042df6e3e7">$output_dir</a> = <span class="stringliteral">&#39;/var/www/extracted&#39;</span>;</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor"># Extraction</span></div>
<div class="line">$archive = UnifiedArchive::open(<span class="stringliteral">&#39;archive.zip&#39;</span>); <span class="comment">// archive.rar, archive.tar.bz2</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (<a class="code hl_variable" href="report_8contract_8php.html#a77b973d137fb33212e018b042df6e3e7">disk_free_space</a>(<a class="code hl_variable" href="report_8contract_8php.html#a77b973d137fb33212e018b042df6e3e7">$output_dir</a>) &lt; $archive-&gt;getOriginalSize()) {</div>
<div class="line">    <span class="keywordflow">throw</span> <a class="code hl_variable" href="report_8contract_8php.html#a77b973d137fb33212e018b042df6e3e7">new \RuntimeException</a>(<span class="stringliteral">&#39;No needed space available. Need &#39;</span> . ($archive-&gt;getOriginalSize() - <a class="code hl_variable" href="report_8contract_8php.html#a77b973d137fb33212e018b042df6e3e7">disk_free_space</a>(<a class="code hl_variable" href="report_8contract_8php.html#a77b973d137fb33212e018b042df6e3e7">$output_dir</a>)) . <span class="stringliteral">&#39; byte(s) more&#39;</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code hl_variable" href="report_8contract_8php.html#a77b973d137fb33212e018b042df6e3e7">$extracted</a> = $archive-&gt;extract(<a class="code hl_variable" href="report_8contract_8php.html#a77b973d137fb33212e018b042df6e3e7">$output_dir</a>);</div>
<div class="line"><a class="code hl_variable" href="report_8contract_8php.html#a77b973d137fb33212e018b042df6e3e7">echo</a> <span class="stringliteral">&#39;Number of extracted files&#39;</span> . <a class="code hl_variable" href="report_8contract_8php.html#a77b973d137fb33212e018b042df6e3e7">$extracted</a>.PHP_EOL;</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor"># Archiving</span></div>
<div class="line">UnifiedArchive::create([</div>
<div class="line">    <span class="stringliteral">&#39;README.md&#39;</span> =&gt; <span class="stringliteral">&#39;/default/path/to/README.md&#39;</span>,</div>
<div class="line">    <span class="stringliteral">&#39;&#39;</span> =&gt; <span class="stringliteral">&#39;/folder/with/content/&#39;</span>,</div>
<div class="line">], <span class="stringliteral">&#39;archive.zip&#39;</span>);</div>
<div class="ttc" id="areport_8contract_8php_html_a77b973d137fb33212e018b042df6e3e7"><div class="ttname"><a href="report_8contract_8php.html#a77b973d137fb33212e018b042df6e3e7">$y</a></div><div class="ttdeci">$y</div><div class="ttdef"><b>Definition</b> report.contract.php:71</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md7514"></a>
Built-in console archive manager</h1>
<p>UnifiedArchive is distributed with a unified console program to manipulate archives. It supports all formats and all operations on them that UnifiedArchive does, so it can be used to manipulate archives without other system software. To show help, launch it: </p><div class="fragment"><div class="line">./vendor/bin/cam list # help</div>
<div class="line">./vendor/bin/cam archive:info archive.tar.gz # archive information</div>
<div class="line">./vendor/bin/cam files:list -l archive.tar.gz # files list (or files:table for table)</div>
<div class="line">./vendor/bin/cam archive:extract archive.tar.gz ./OUTPUT/ # extraction all archive</div>
<div class="line">./vendor/bin/cam archive:create --compression=maximum archive2.tar.gz ./OUTPUT/partners # archive creation from files</div>
</div><!-- fragment --><ul>
<li><a class="el" href="md_public_2glpi_2vendor_2wapmorgan_2unified-archive_2docs_2_usage.html">Usage</a></li>
<li><a class="el" href="md_public_2glpi_2vendor_2wapmorgan_2unified-archive_2docs_2_drivers.html">Drivers &amp; formats</a></li>
<li><a class="el" href="md_public_2glpi_2vendor_2wapmorgan_2unified-archive_2docs_2_a_p_i.html">Full API description</a></li>
<li><a class="el" href="md_public_2glpi_2vendor_2wapmorgan_2unified-archive_2_c_h_a_n_g_e_l_o_g.html">Changelog</a> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Généré par&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
