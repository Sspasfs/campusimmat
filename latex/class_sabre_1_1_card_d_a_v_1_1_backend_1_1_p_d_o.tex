\doxysection{Référence de la classe PDO}
\hypertarget{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o}{}\label{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o}\index{PDO@{PDO}}


Graphe d\textquotesingle{}héritage de PDO\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o__inherit__graph}
\end{center}
\end{figure}


Graphe de collaboration de PDO\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Fonctions membres publiques}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_a608ddc2b14ef4b7f00d24fa59b5c0dbb}{\+\_\+\+\_\+construct}} (\textbackslash{}\mbox{\hyperlink{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o}{PDO}} \$\mbox{\hyperlink{report_8contract_8php_a77b973d137fb33212e018b042df6e3e7}{pdo}})
\item 
\mbox{\hyperlink{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_afbcd2016f41c4873015d9a0ea070fac4}{get\+Address\+Books\+For\+User}} (\$\mbox{\hyperlink{report_8contract_8php_a77b973d137fb33212e018b042df6e3e7}{principal\+Uri}})
\item 
\mbox{\hyperlink{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_ae265c23114d025efdf3247848f2f3318}{update\+Address\+Book}} (\$\mbox{\hyperlink{report_8contract_8php_a77b973d137fb33212e018b042df6e3e7}{address\+Book\+Id}}, \mbox{\hyperlink{class_sabre_1_1_d_a_v_1_1_prop_patch}{Prop\+Patch}} \$prop\+Patch)
\item 
\mbox{\hyperlink{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_ac00b1921ec9a733b18c1cf32b716e90b}{create\+Address\+Book}} (\$\mbox{\hyperlink{report_8contract_8php_a77b973d137fb33212e018b042df6e3e7}{principal\+Uri}}, \$url, array \$properties)
\item 
\mbox{\hyperlink{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_a514d725ab2e0883bac5e0eb4c440ab7b}{delete\+Address\+Book}} (\$\mbox{\hyperlink{report_8contract_8php_a77b973d137fb33212e018b042df6e3e7}{address\+Book\+Id}})
\item 
\mbox{\hyperlink{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_a473d107f6ffec339a51e5dbc578058fe}{get\+Cards}} (\$\mbox{\hyperlink{report_8contract_8php_a77b973d137fb33212e018b042df6e3e7}{addressbook\+Id}})
\item 
\mbox{\hyperlink{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_a387d6ada1795d7ade151d13eda51cf03}{get\+Card}} (\$\mbox{\hyperlink{report_8contract_8php_a77b973d137fb33212e018b042df6e3e7}{address\+Book\+Id}}, \$\mbox{\hyperlink{report_8contract_8php_a77b973d137fb33212e018b042df6e3e7}{card\+Uri}})
\item 
\mbox{\hyperlink{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_a8d9e9b21e5bc6b0aa76eefddb513e5b6}{get\+Multiple\+Cards}} (\$\mbox{\hyperlink{report_8contract_8php_a77b973d137fb33212e018b042df6e3e7}{address\+Book\+Id}}, array \$\mbox{\hyperlink{report_8contract_8php_a77b973d137fb33212e018b042df6e3e7}{uris}})
\item 
\mbox{\hyperlink{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_aa574033f70c5107e5dae6aabd41de28c}{create\+Card}} (\$\mbox{\hyperlink{report_8contract_8php_a77b973d137fb33212e018b042df6e3e7}{address\+Book\+Id}}, \$\mbox{\hyperlink{report_8contract_8php_a77b973d137fb33212e018b042df6e3e7}{card\+Uri}}, \$\mbox{\hyperlink{report_8contract_8php_a77b973d137fb33212e018b042df6e3e7}{card\+Data}})
\item 
\mbox{\hyperlink{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_a84747c83d05ea88e39343033a7f76340}{update\+Card}} (\$\mbox{\hyperlink{report_8contract_8php_a77b973d137fb33212e018b042df6e3e7}{address\+Book\+Id}}, \$\mbox{\hyperlink{report_8contract_8php_a77b973d137fb33212e018b042df6e3e7}{card\+Uri}}, \$\mbox{\hyperlink{report_8contract_8php_a77b973d137fb33212e018b042df6e3e7}{card\+Data}})
\item 
\mbox{\hyperlink{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_a891c62b6f310dd25f8696b87c8592632}{delete\+Card}} (\$\mbox{\hyperlink{report_8contract_8php_a77b973d137fb33212e018b042df6e3e7}{address\+Book\+Id}}, \$\mbox{\hyperlink{report_8contract_8php_a77b973d137fb33212e018b042df6e3e7}{card\+Uri}})
\item 
\mbox{\hyperlink{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_a626911114a2f6c8224526d91f456cb46}{get\+Changes\+For\+Address\+Book}} (\$\mbox{\hyperlink{report_8contract_8php_a77b973d137fb33212e018b042df6e3e7}{address\+Book\+Id}}, \$\mbox{\hyperlink{report_8contract_8php_a77b973d137fb33212e018b042df6e3e7}{sync\+Token}}, \$\mbox{\hyperlink{report_8contract_8php_a77b973d137fb33212e018b042df6e3e7}{sync\+Level}}, \$limit=null)
\end{DoxyCompactItemize}
\doxysubsection*{Fonctions membres publiques hérités de \mbox{\hyperlink{interface_sabre_1_1_card_d_a_v_1_1_backend_1_1_backend_interface}{Backend\+Interface}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{interface_sabre_1_1_card_d_a_v_1_1_backend_1_1_backend_interface_ada8cd2e50c89696ea40bf5592b26dbdf}{update\+Address\+Book}} (\$\mbox{\hyperlink{report_8contract_8php_a77b973d137fb33212e018b042df6e3e7}{address\+Book\+Id}}, \textbackslash{}\mbox{\hyperlink{class_sabre_1_1_d_a_v_1_1_prop_patch}{Sabre\textbackslash{}\+DAV\textbackslash{}\+Prop\+Patch}} \$prop\+Patch)
\end{DoxyCompactItemize}
\doxysubsubsection*{Champs de données}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_a7a418061392598bea6e0ba007969fdd2}{\$address\+Books\+Table\+Name}} = \textquotesingle{}\mbox{\hyperlink{report_8contract_8php_a77b973d137fb33212e018b042df6e3e7}{addressbooks}}\textquotesingle{}
\item 
\mbox{\hyperlink{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_a6eb19b053759666a0c0d0cf4a2b51e71}{\$cards\+Table\+Name}} = \textquotesingle{}\mbox{\hyperlink{report_8contract_8php_a77b973d137fb33212e018b042df6e3e7}{cards}}\textquotesingle{}
\item 
\mbox{\hyperlink{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_a6b0c0035437a7ce4a180d5b30fc623ef}{\$address\+Book\+Changes\+Table\+Name}} = \textquotesingle{}\mbox{\hyperlink{report_8contract_8php_a77b973d137fb33212e018b042df6e3e7}{addressbookchanges}}\textquotesingle{}
\end{DoxyCompactItemize}
\doxysubsubsection*{Fonctions membres protégées}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_a05b741f2263a06caa8774c6aa628d8e1}{add\+Change}} (\$\mbox{\hyperlink{report_8contract_8php_a77b973d137fb33212e018b042df6e3e7}{address\+Book\+Id}}, \$\mbox{\hyperlink{report_8contract_8php_a77b973d137fb33212e018b042df6e3e7}{object\+Uri}}, \$\mbox{\hyperlink{report_8contract_8php_a77b973d137fb33212e018b042df6e3e7}{operation}})
\end{DoxyCompactItemize}
\doxysubsubsection*{Attributs protégés}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_a5766efd703cef0e00bfc06b3f3acbe0e}{\$pdo}}
\end{DoxyCompactItemize}


\doxysubsection{Description détaillée}
PDO Card\+DAV backend.

This Card\+DAV backend uses PDO to store addressbooks

\begin{DoxyCopyright}{Copyright}
Copyright (C) fruux GmbH (\href{https://fruux.com/}{\texttt{ https\+://fruux.\+com/}}) 
\end{DoxyCopyright}
\begin{DoxyAuthor}{Auteur}
Evert Pot (\href{http://evertpot.com/}{\texttt{ http\+://evertpot.\+com/}}) @license \href{http://sabre.io/license/}{\texttt{ http\+://sabre.\+io/license/}} Modified BSD License 
\end{DoxyAuthor}


\doxysubsection{Documentation des constructeurs et destructeur}
\Hypertarget{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_a608ddc2b14ef4b7f00d24fa59b5c0dbb}\label{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_a608ddc2b14ef4b7f00d24fa59b5c0dbb} 
\index{PDO@{PDO}!\_\_construct@{\_\_construct}}
\index{\_\_construct@{\_\_construct}!PDO@{PDO}}
\doxysubsubsection{\texorpdfstring{\_\_construct()}{\_\_construct()}}
{\footnotesize\ttfamily \+\_\+\+\_\+construct (\begin{DoxyParamCaption}\item[{\textbackslash{}\mbox{\hyperlink{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o}{PDO}}}]{\$pdo }\end{DoxyParamCaption})}

Sets up the object. 

\doxysubsection{Documentation des fonctions membres}
\Hypertarget{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_a05b741f2263a06caa8774c6aa628d8e1}\label{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_a05b741f2263a06caa8774c6aa628d8e1} 
\index{PDO@{PDO}!addChange@{addChange}}
\index{addChange@{addChange}!PDO@{PDO}}
\doxysubsubsection{\texorpdfstring{addChange()}{addChange()}}
{\footnotesize\ttfamily add\+Change (\begin{DoxyParamCaption}\item[{}]{\$address\+Book\+Id,  }\item[{}]{\$object\+Uri,  }\item[{}]{\$operation }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

Adds a change record to the addressbookchanges table.


\begin{DoxyParams}[1]{Paramètres}
mixed & {\em \$address\+Book\+Id} & \\
\hline
string & {\em \$object\+Uri} & \\
\hline
int & {\em \$operation} & 1 = add, 2 = modify, 3 = delete \\
\hline
\end{DoxyParams}
Voici le graphe des appelants de cette fonction \+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=285pt]{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_a05b741f2263a06caa8774c6aa628d8e1_icgraph}
\end{center}
\end{figure}
\Hypertarget{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_ac00b1921ec9a733b18c1cf32b716e90b}\label{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_ac00b1921ec9a733b18c1cf32b716e90b} 
\index{PDO@{PDO}!createAddressBook@{createAddressBook}}
\index{createAddressBook@{createAddressBook}!PDO@{PDO}}
\doxysubsubsection{\texorpdfstring{createAddressBook()}{createAddressBook()}}
{\footnotesize\ttfamily create\+Address\+Book (\begin{DoxyParamCaption}\item[{}]{\$principal\+Uri,  }\item[{}]{\$url,  }\item[{array}]{\$properties }\end{DoxyParamCaption})}

Creates a new address book.


\begin{DoxyParams}[1]{Paramètres}
string & {\em \$principal\+Uri} & \\
\hline
string & {\em \$url} & just the \textquotesingle{}basename\textquotesingle{} of the url\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
int Last insert id 
\end{DoxyReturn}


Implémente \mbox{\hyperlink{interface_sabre_1_1_card_d_a_v_1_1_backend_1_1_backend_interface_ac00b1921ec9a733b18c1cf32b716e90b}{Backend\+Interface}}.

\Hypertarget{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_aa574033f70c5107e5dae6aabd41de28c}\label{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_aa574033f70c5107e5dae6aabd41de28c} 
\index{PDO@{PDO}!createCard@{createCard}}
\index{createCard@{createCard}!PDO@{PDO}}
\doxysubsubsection{\texorpdfstring{createCard()}{createCard()}}
{\footnotesize\ttfamily create\+Card (\begin{DoxyParamCaption}\item[{}]{\$address\+Book\+Id,  }\item[{}]{\$card\+Uri,  }\item[{}]{\$card\+Data }\end{DoxyParamCaption})}

Creates a new card.

The addressbook id will be passed as the first argument. This is the same id as it is returned from the get\+Address\+Books\+For\+User method.

The card\+Uri is a base uri, and doesn\textquotesingle{}t include the full path. The card\+Data argument is the vcard body, and is passed as a string.

It is possible to return an ETag from this method. This ETag is for the newly created resource, and must be enclosed with double quotes (that is, the string itself must contain the double quotes).

You should only return the ETag if you store the carddata as-\/is. If a subsequent GET request on the same card does not have the same body, byte-\/by-\/byte and you did return an ETag here, clients tend to get confused.

If you don\textquotesingle{}t return an ETag, you can just return null.


\begin{DoxyParams}[1]{Paramètres}
mixed & {\em \$address\+Book\+Id} & \\
\hline
string & {\em \$card\+Uri} & \\
\hline
string & {\em \$card\+Data} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
string\texorpdfstring{$\vert$}{|}null 
\end{DoxyReturn}


Implémente \mbox{\hyperlink{interface_sabre_1_1_card_d_a_v_1_1_backend_1_1_backend_interface_aa574033f70c5107e5dae6aabd41de28c}{Backend\+Interface}}.

Voici le graphe d\textquotesingle{}appel pour cette fonction \+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=246pt]{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_aa574033f70c5107e5dae6aabd41de28c_cgraph}
\end{center}
\end{figure}
\Hypertarget{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_a514d725ab2e0883bac5e0eb4c440ab7b}\label{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_a514d725ab2e0883bac5e0eb4c440ab7b} 
\index{PDO@{PDO}!deleteAddressBook@{deleteAddressBook}}
\index{deleteAddressBook@{deleteAddressBook}!PDO@{PDO}}
\doxysubsubsection{\texorpdfstring{deleteAddressBook()}{deleteAddressBook()}}
{\footnotesize\ttfamily delete\+Address\+Book (\begin{DoxyParamCaption}\item[{}]{\$address\+Book\+Id }\end{DoxyParamCaption})}

Deletes an entire addressbook and all its contents.


\begin{DoxyParams}[1]{Paramètres}
int & {\em \$address\+Book\+Id} & \\
\hline
\end{DoxyParams}


Implémente \mbox{\hyperlink{interface_sabre_1_1_card_d_a_v_1_1_backend_1_1_backend_interface_a514d725ab2e0883bac5e0eb4c440ab7b}{Backend\+Interface}}.

\Hypertarget{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_a891c62b6f310dd25f8696b87c8592632}\label{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_a891c62b6f310dd25f8696b87c8592632} 
\index{PDO@{PDO}!deleteCard@{deleteCard}}
\index{deleteCard@{deleteCard}!PDO@{PDO}}
\doxysubsubsection{\texorpdfstring{deleteCard()}{deleteCard()}}
{\footnotesize\ttfamily delete\+Card (\begin{DoxyParamCaption}\item[{}]{\$address\+Book\+Id,  }\item[{}]{\$card\+Uri }\end{DoxyParamCaption})}

Deletes a card.


\begin{DoxyParams}[1]{Paramètres}
mixed & {\em \$address\+Book\+Id} & \\
\hline
string & {\em \$card\+Uri} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
bool 
\end{DoxyReturn}


Implémente \mbox{\hyperlink{interface_sabre_1_1_card_d_a_v_1_1_backend_1_1_backend_interface_a891c62b6f310dd25f8696b87c8592632}{Backend\+Interface}}.

Voici le graphe d\textquotesingle{}appel pour cette fonction \+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=245pt]{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_a891c62b6f310dd25f8696b87c8592632_cgraph}
\end{center}
\end{figure}
\Hypertarget{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_afbcd2016f41c4873015d9a0ea070fac4}\label{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_afbcd2016f41c4873015d9a0ea070fac4} 
\index{PDO@{PDO}!getAddressBooksForUser@{getAddressBooksForUser}}
\index{getAddressBooksForUser@{getAddressBooksForUser}!PDO@{PDO}}
\doxysubsubsection{\texorpdfstring{getAddressBooksForUser()}{getAddressBooksForUser()}}
{\footnotesize\ttfamily get\+Address\+Books\+For\+User (\begin{DoxyParamCaption}\item[{}]{\$principal\+Uri }\end{DoxyParamCaption})}

Returns the list of addressbooks for a specific user.


\begin{DoxyParams}[1]{Paramètres}
string & {\em \$principal\+Uri} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
array 
\end{DoxyReturn}


Implémente \mbox{\hyperlink{interface_sabre_1_1_card_d_a_v_1_1_backend_1_1_backend_interface_afbcd2016f41c4873015d9a0ea070fac4}{Backend\+Interface}}.

\Hypertarget{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_a387d6ada1795d7ade151d13eda51cf03}\label{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_a387d6ada1795d7ade151d13eda51cf03} 
\index{PDO@{PDO}!getCard@{getCard}}
\index{getCard@{getCard}!PDO@{PDO}}
\doxysubsubsection{\texorpdfstring{getCard()}{getCard()}}
{\footnotesize\ttfamily get\+Card (\begin{DoxyParamCaption}\item[{}]{\$address\+Book\+Id,  }\item[{}]{\$card\+Uri }\end{DoxyParamCaption})}

Returns a specific card.

The same set of properties must be returned as with get\+Cards. The only exception is that \textquotesingle{}carddata\textquotesingle{} is absolutely required.

If the card does not exist, you must return false.


\begin{DoxyParams}[1]{Paramètres}
mixed & {\em \$address\+Book\+Id} & \\
\hline
string & {\em \$card\+Uri} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
array 
\end{DoxyReturn}


Implémente \mbox{\hyperlink{interface_sabre_1_1_card_d_a_v_1_1_backend_1_1_backend_interface_a387d6ada1795d7ade151d13eda51cf03}{Backend\+Interface}}.

\Hypertarget{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_a473d107f6ffec339a51e5dbc578058fe}\label{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_a473d107f6ffec339a51e5dbc578058fe} 
\index{PDO@{PDO}!getCards@{getCards}}
\index{getCards@{getCards}!PDO@{PDO}}
\doxysubsubsection{\texorpdfstring{getCards()}{getCards()}}
{\footnotesize\ttfamily get\+Cards (\begin{DoxyParamCaption}\item[{}]{\$addressbook\+Id }\end{DoxyParamCaption})}

Returns all cards for a specific addressbook id.

This method should return the following properties for each card\+:
\begin{DoxyItemize}
\item carddata -\/ raw vcard data
\item uri -\/ Some unique url
\item lastmodified -\/ A unix timestamp
\end{DoxyItemize}

It\textquotesingle{}s recommended to also return the following properties\+:
\begin{DoxyItemize}
\item etag -\/ A unique etag. This must change every time the card changes.
\item size -\/ The size of the card in bytes.
\end{DoxyItemize}

If these last two properties are provided, less time will be spent calculating them. If they are specified, you can also ommit carddata. This may speed up certain requests, especially with large cards.


\begin{DoxyParams}[1]{Paramètres}
mixed & {\em \$addressbook\+Id} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
array 
\end{DoxyReturn}


Implémente \mbox{\hyperlink{interface_sabre_1_1_card_d_a_v_1_1_backend_1_1_backend_interface_a473d107f6ffec339a51e5dbc578058fe}{Backend\+Interface}}.

\Hypertarget{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_a626911114a2f6c8224526d91f456cb46}\label{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_a626911114a2f6c8224526d91f456cb46} 
\index{PDO@{PDO}!getChangesForAddressBook@{getChangesForAddressBook}}
\index{getChangesForAddressBook@{getChangesForAddressBook}!PDO@{PDO}}
\doxysubsubsection{\texorpdfstring{getChangesForAddressBook()}{getChangesForAddressBook()}}
{\footnotesize\ttfamily get\+Changes\+For\+Address\+Book (\begin{DoxyParamCaption}\item[{}]{\$address\+Book\+Id,  }\item[{}]{\$sync\+Token,  }\item[{}]{\$sync\+Level,  }\item[{}]{\$limit = {\ttfamily null} }\end{DoxyParamCaption})}

The get\+Changes method returns all the changes that have happened, since the specified sync\+Token in the specified address book.

This function should return an array, such as the following\+:

\mbox{[} \textquotesingle{}sync\+Token\textquotesingle{} =\texorpdfstring{$>$}{>} \textquotesingle{}The current synctoken\textquotesingle{}, \textquotesingle{}added\textquotesingle{} =\texorpdfstring{$>$}{>} \mbox{[} \textquotesingle{}new.\+txt\textquotesingle{}, \mbox{]}, \textquotesingle{}modified\textquotesingle{} =\texorpdfstring{$>$}{>} \mbox{[} \textquotesingle{}updated.\+txt\textquotesingle{}, \mbox{]}, \textquotesingle{}deleted\textquotesingle{} =\texorpdfstring{$>$}{>} \mbox{[} \textquotesingle{}foo.\+php.\+bak\textquotesingle{}, \textquotesingle{}old.\+txt\textquotesingle{} \mbox{]} \mbox{]};

The returned sync\+Token property should reflect the {\itshape current} sync\+Token of the addressbook, as reported in the \{\href{http://sabredav.org/ns}{\texttt{ http\+://sabredav.\+org/ns}}\}sync-\/token property. This is needed here too, to ensure the operation is atomic.

If the \$sync\+Token argument is specified as null, this is an initial sync, and all members should be reported.

The modified property is an array of nodenames that have changed since the last token.

The deleted property is an array with nodenames, that have been deleted from collection.

The \$sync\+Level argument is basically the \textquotesingle{}depth\textquotesingle{} of the report. If it\textquotesingle{}s 1, you only have to report changes that happened only directly in immediate descendants. If it\textquotesingle{}s 2, it should also include changes from the nodes below the child collections. (grandchildren)

The \$limit argument allows a client to specify how many results should be returned at most. If the limit is not specified, it should be treated as infinite.

If the limit (infinite or not) is higher than you\textquotesingle{}re willing to return, you should throw a Sabre\textbackslash{}\+DAV\textbackslash{}\+Exception\textbackslash{}\+Too\+Much\+Matches() exception.

If the sync\+Token is expired (due to data cleanup) or unknown, you must return null.

The limit is \textquotesingle{}suggestive\textquotesingle{}. You are free to ignore it.


\begin{DoxyParams}[1]{Paramètres}
string & {\em \$address\+Book\+Id} & \\
\hline
string & {\em \$sync\+Token} & \\
\hline
int & {\em \$sync\+Level} & \\
\hline
int & {\em \$limit} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
array 
\end{DoxyReturn}


Implémente \mbox{\hyperlink{interface_sabre_1_1_card_d_a_v_1_1_backend_1_1_sync_support_a626911114a2f6c8224526d91f456cb46}{Sync\+Support}}.

\Hypertarget{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_a8d9e9b21e5bc6b0aa76eefddb513e5b6}\label{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_a8d9e9b21e5bc6b0aa76eefddb513e5b6} 
\index{PDO@{PDO}!getMultipleCards@{getMultipleCards}}
\index{getMultipleCards@{getMultipleCards}!PDO@{PDO}}
\doxysubsubsection{\texorpdfstring{getMultipleCards()}{getMultipleCards()}}
{\footnotesize\ttfamily get\+Multiple\+Cards (\begin{DoxyParamCaption}\item[{}]{\$address\+Book\+Id,  }\item[{array}]{\$uris }\end{DoxyParamCaption})}

Returns a list of cards.

This method should work identical to get\+Card, but instead return all the cards in the list as an array.

If the backend supports this, it may allow for some speed-\/ups.


\begin{DoxyParams}[1]{Paramètres}
mixed & {\em \$address\+Book\+Id} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
array 
\end{DoxyReturn}


Réimplémentée à partir de \mbox{\hyperlink{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_abstract_backend_a8d9e9b21e5bc6b0aa76eefddb513e5b6}{Abstract\+Backend}}.

\Hypertarget{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_ae265c23114d025efdf3247848f2f3318}\label{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_ae265c23114d025efdf3247848f2f3318} 
\index{PDO@{PDO}!updateAddressBook@{updateAddressBook}}
\index{updateAddressBook@{updateAddressBook}!PDO@{PDO}}
\doxysubsubsection{\texorpdfstring{updateAddressBook()}{updateAddressBook()}}
{\footnotesize\ttfamily update\+Address\+Book (\begin{DoxyParamCaption}\item[{}]{\$address\+Book\+Id,  }\item[{\mbox{\hyperlink{class_sabre_1_1_d_a_v_1_1_prop_patch}{Prop\+Patch}}}]{\$prop\+Patch }\end{DoxyParamCaption})}

Updates properties for an address book.

The list of mutations is stored in a Sabre\textbackslash{}\+DAV\textbackslash{}\+Prop\+Patch object. To do the actual updates, you must tell this object which properties you\textquotesingle{}re going to process with the handle() method.

Calling the handle method is like telling the Prop\+Patch object "{}\+I promise I can handle updating this property"{}.

Read the Prop\+Patch documentation for more info and examples.


\begin{DoxyParams}[1]{Paramètres}
string & {\em \$address\+Book\+Id} & \\
\hline
\end{DoxyParams}
Voici le graphe d\textquotesingle{}appel pour cette fonction \+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=285pt]{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_ae265c23114d025efdf3247848f2f3318_cgraph}
\end{center}
\end{figure}
\Hypertarget{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_a84747c83d05ea88e39343033a7f76340}\label{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_a84747c83d05ea88e39343033a7f76340} 
\index{PDO@{PDO}!updateCard@{updateCard}}
\index{updateCard@{updateCard}!PDO@{PDO}}
\doxysubsubsection{\texorpdfstring{updateCard()}{updateCard()}}
{\footnotesize\ttfamily update\+Card (\begin{DoxyParamCaption}\item[{}]{\$address\+Book\+Id,  }\item[{}]{\$card\+Uri,  }\item[{}]{\$card\+Data }\end{DoxyParamCaption})}

Updates a card.

The addressbook id will be passed as the first argument. This is the same id as it is returned from the get\+Address\+Books\+For\+User method.

The card\+Uri is a base uri, and doesn\textquotesingle{}t include the full path. The card\+Data argument is the vcard body, and is passed as a string.

It is possible to return an ETag from this method. This ETag should match that of the updated resource, and must be enclosed with double quotes (that is\+: the string itself must contain the actual quotes).

You should only return the ETag if you store the carddata as-\/is. If a subsequent GET request on the same card does not have the same body, byte-\/by-\/byte and you did return an ETag here, clients tend to get confused.

If you don\textquotesingle{}t return an ETag, you can just return null.


\begin{DoxyParams}[1]{Paramètres}
mixed & {\em \$address\+Book\+Id} & \\
\hline
string & {\em \$card\+Uri} & \\
\hline
string & {\em \$card\+Data} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
string\texorpdfstring{$\vert$}{|}null 
\end{DoxyReturn}


Implémente \mbox{\hyperlink{interface_sabre_1_1_card_d_a_v_1_1_backend_1_1_backend_interface_a84747c83d05ea88e39343033a7f76340}{Backend\+Interface}}.

Voici le graphe d\textquotesingle{}appel pour cette fonction \+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=248pt]{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_a84747c83d05ea88e39343033a7f76340_cgraph}
\end{center}
\end{figure}


\doxysubsection{Documentation des champs}
\Hypertarget{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_a6b0c0035437a7ce4a180d5b30fc623ef}\label{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_a6b0c0035437a7ce4a180d5b30fc623ef} 
\index{PDO@{PDO}!\$addressBookChangesTableName@{\$addressBookChangesTableName}}
\index{\$addressBookChangesTableName@{\$addressBookChangesTableName}!PDO@{PDO}}
\doxysubsubsection{\texorpdfstring{\$addressBookChangesTableName}{\$addressBookChangesTableName}}
{\footnotesize\ttfamily \$\mbox{\hyperlink{report_8contract_8php_a77b973d137fb33212e018b042df6e3e7}{address\+Book\+Changes\+Table\+Name}} = \textquotesingle{}\mbox{\hyperlink{report_8contract_8php_a77b973d137fb33212e018b042df6e3e7}{addressbookchanges}}\textquotesingle{}}

\Hypertarget{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_a7a418061392598bea6e0ba007969fdd2}\label{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_a7a418061392598bea6e0ba007969fdd2} 
\index{PDO@{PDO}!\$addressBooksTableName@{\$addressBooksTableName}}
\index{\$addressBooksTableName@{\$addressBooksTableName}!PDO@{PDO}}
\doxysubsubsection{\texorpdfstring{\$addressBooksTableName}{\$addressBooksTableName}}
{\footnotesize\ttfamily \$\mbox{\hyperlink{report_8contract_8php_a77b973d137fb33212e018b042df6e3e7}{address\+Books\+Table\+Name}} = \textquotesingle{}\mbox{\hyperlink{report_8contract_8php_a77b973d137fb33212e018b042df6e3e7}{addressbooks}}\textquotesingle{}}

The PDO table name used to store addressbooks. \Hypertarget{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_a6eb19b053759666a0c0d0cf4a2b51e71}\label{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_a6eb19b053759666a0c0d0cf4a2b51e71} 
\index{PDO@{PDO}!\$cardsTableName@{\$cardsTableName}}
\index{\$cardsTableName@{\$cardsTableName}!PDO@{PDO}}
\doxysubsubsection{\texorpdfstring{\$cardsTableName}{\$cardsTableName}}
{\footnotesize\ttfamily \$\mbox{\hyperlink{report_8contract_8php_a77b973d137fb33212e018b042df6e3e7}{cards\+Table\+Name}} = \textquotesingle{}\mbox{\hyperlink{report_8contract_8php_a77b973d137fb33212e018b042df6e3e7}{cards}}\textquotesingle{}}

The PDO table name used to store cards. \Hypertarget{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_a5766efd703cef0e00bfc06b3f3acbe0e}\label{class_sabre_1_1_card_d_a_v_1_1_backend_1_1_p_d_o_a5766efd703cef0e00bfc06b3f3acbe0e} 
\index{PDO@{PDO}!\$pdo@{\$pdo}}
\index{\$pdo@{\$pdo}!PDO@{PDO}}
\doxysubsubsection{\texorpdfstring{\$pdo}{\$pdo}}
{\footnotesize\ttfamily \$\mbox{\hyperlink{report_8contract_8php_a77b973d137fb33212e018b042df6e3e7}{pdo}}\hspace{0.3cm}{\ttfamily [protected]}}



La documentation de cette classe a été générée à partir du fichier suivant \+:\begin{DoxyCompactItemize}
\item 
public/glpi/vendor/sabre/dav/lib/\+Card\+DAV/\+Backend/\mbox{\hyperlink{_card_d_a_v_2_backend_2_p_d_o_8php}{PDO.\+php}}\end{DoxyCompactItemize}
