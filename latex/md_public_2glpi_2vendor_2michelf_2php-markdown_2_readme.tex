\chapter{PHP Markdown}
\hypertarget{md_public_2glpi_2vendor_2michelf_2php-markdown_2_readme}{}\label{md_public_2glpi_2vendor_2michelf_2php-markdown_2_readme}\index{PHP Markdown@{PHP Markdown}}
PHP Markdown Lib 1.\+9.\+1 -\/ 23 Nov 2021

by Michel Fortin ~\newline
 \href{https://michelf.ca/}{\texttt{ https\+://michelf.\+ca/}}

based on Markdown by John Gruber ~\newline
 \href{https://daringfireball.net/}{\texttt{ https\+://daringfireball.\+net/}}\hypertarget{md_public_2glpi_2vendor_2michelf_2php-markdown_2_readme_autotoc_md6773}{}\doxysection{\texorpdfstring{Introduction}{Introduction}}\label{md_public_2glpi_2vendor_2michelf_2php-markdown_2_readme_autotoc_md6773}
This is a library package that includes the PHP Markdown parser and its sibling PHP Markdown Extra with additional features.

Markdown is a text-\/to-\/\+HTML conversion tool for web writers. Markdown allows you to write using an easy-\/to-\/read, easy-\/to-\/write plain text format, then convert it to structurally valid XHTML (or HTML).

"{}\+Markdown"{} is actually two things\+: a plain text markup syntax, and a software tool, originally written in Perl, that converts the plain text markup to HTML. PHP Markdown is a port to PHP of the original Markdown program by John Gruber.


\begin{DoxyItemize}
\item \href{https://daringfireball.net/projects/markdown/}{\texttt{ Full documentation of the Markdown syntax}} ~\newline
 — Daring Fireball (John Gruber)
\item \href{https://michelf.ca/projects/php-markdown/extra/}{\texttt{ Markdown Extra syntax additions}} ~\newline
 — Michel Fortin
\end{DoxyItemize}\hypertarget{md_public_2glpi_2vendor_2michelf_2php-markdown_2_readme_autotoc_md6774}{}\doxysection{\texorpdfstring{Requirement}{Requirement}}\label{md_public_2glpi_2vendor_2michelf_2php-markdown_2_readme_autotoc_md6774}
This library package requires PHP 5.\+3 or later.

Note\+: The older plugin/library hybrid package for PHP Markdown and PHP Markdown Extra is no longer maintained but will work with PHP 4.\+0.\+5 and later.

Before PHP 5.\+3.\+7, pcre.\+backtrack\+\_\+limit defaults to 100 000, which is too small in many situations. You might need to set it to higher values. Later PHP releases defaults to 1 000 000, which is usually fine.\hypertarget{md_public_2glpi_2vendor_2michelf_2php-markdown_2_readme_autotoc_md6775}{}\doxysection{\texorpdfstring{Usage}{Usage}}\label{md_public_2glpi_2vendor_2michelf_2php-markdown_2_readme_autotoc_md6775}
To use this library with \doxylink{namespace_composer}{Composer}, first install it with\+: \begin{DoxyVerb}$ composer require michelf/php-markdown
\end{DoxyVerb}
 Then include \doxylink{namespace_composer}{Composer}\textquotesingle{}s generated \doxylink{autoload_8php}{vendor/autoload.\+php} to \mbox{[}enable autoloading\mbox{]}\+: \begin{DoxyVerb}require 'vendor/autoload.php';
\end{DoxyVerb}
 Without \doxylink{namespace_composer}{Composer}, for autoloading to work, your project needs an autoloader compatible with PSR-\/4 or PSR-\/0. See the included \doxylink{_readme_8php}{Readme.\+php} file for a minimal autoloader setup. (If you cannot use autoloading, see below.)

With class autoloading in place\+: \begin{DoxyVerb}use Michelf\Markdown;
$my_html = Markdown::defaultTransform($my_text);
\end{DoxyVerb}
 Markdown Extra syntax is also available the same way\+: \begin{DoxyVerb}use Michelf\MarkdownExtra;
$my_html = MarkdownExtra::defaultTransform($my_text);
\end{DoxyVerb}
 If you wish to use PHP Markdown with another text filter function built to parse HTML, you should filter the text {\itshape after} the {\ttfamily transform} function call. This is an example with \mbox{[}PHP Smarty\+Pants\mbox{]}\+: \begin{DoxyVerb}use Michelf\Markdown, Michelf\SmartyPants;
$my_html = Markdown::defaultTransform($my_text);
$my_html = SmartyPants::defaultTransform($my_html);
\end{DoxyVerb}
 All these examples are using the static {\ttfamily default\+Transform} static function found inside the parser class. If you want to customize the parser configuration, you can also instantiate it directly and change some configuration variables\+: \begin{DoxyVerb}use Michelf\MarkdownExtra;
$parser = new MarkdownExtra;
$parser->fn_id_prefix = "post22-";
$my_html = $parser->transform($my_text);
\end{DoxyVerb}
 To learn more, see the full list of \href{https://michelf.ca/projects/php-markdown/configuration/}{\texttt{ configuration variables}}.\hypertarget{md_public_2glpi_2vendor_2michelf_2php-markdown_2_readme_autotoc_md6776}{}\doxysubsection{\texorpdfstring{Usage without an autoloader}{Usage without an autoloader}}\label{md_public_2glpi_2vendor_2michelf_2php-markdown_2_readme_autotoc_md6776}
If you cannot use class autoloading, you can still use {\ttfamily include} or {\ttfamily require} to access the parser. To load the {\ttfamily \doxylink{namespace_michelf}{Michelf}\textbackslash{}Markdown} parser, do it this way\+: \begin{DoxyVerb}require_once 'Michelf/Markdown.inc.php';
\end{DoxyVerb}
 Or, if you need the {\ttfamily \doxylink{namespace_michelf}{Michelf}\textbackslash{}Markdown\+Extra} parser\+: \begin{DoxyVerb}require_once 'Michelf/MarkdownExtra.inc.php';
\end{DoxyVerb}
 While the plain {\ttfamily .php} files depend on autoloading to work correctly, using the {\ttfamily .inc.\+php} files instead will eagerly load the dependencies that would be loaded on demand if you were using autoloading.\hypertarget{md_public_2glpi_2vendor_2michelf_2php-markdown_2_readme_autotoc_md6777}{}\doxysection{\texorpdfstring{Public API and Versioning Policy}{Public API and Versioning Policy}}\label{md_public_2glpi_2vendor_2michelf_2php-markdown_2_readme_autotoc_md6777}
Version numbers are of the form {\itshape major}.\texorpdfstring{$\ast$}{*}minor\texorpdfstring{$\ast$}{*}.\texorpdfstring{$\ast$}{*}patch\texorpdfstring{$\ast$}{*}.

The public API of PHP Markdown consist of the two parser classes {\ttfamily Markdown} and {\ttfamily Markdown\+Extra}, their constructors, the {\ttfamily transform} and {\ttfamily default\+Transform} functions and their configuration variables. The public API is stable for a given major version number. It might get additions when the minor version number increments.

{\bfseries{Protected members are not considered public API.}} This is unconventional and deserves an explanation. Incrementing the major version number every time the underlying implementation of something changes is going to give nonessential version numbers for the vast majority of people who just use the parser. Protected members are meant to create parser subclasses that behave in different ways. Very few people create parser subclasses. I don\textquotesingle{}t want to discourage it by making everything private, but at the same time I can\textquotesingle{}t guarantee any stable hook between versions if you use protected members.

{\bfseries{Syntax changes}} will increment the minor number for new features, and the patch number for small corrections. A {\itshape new feature} is something that needs a change in the syntax documentation. Note that since PHP Markdown Lib includes two parsers, a syntax change for either of them will increment the minor number. Also note that there is nothing perfectly backward-\/compatible with the Markdown syntax\+: all inputs are always valid, so new features always replace something that was previously legal, although generally nonsensical to do.\hypertarget{md_public_2glpi_2vendor_2michelf_2php-markdown_2_readme_autotoc_md6778}{}\doxysection{\texorpdfstring{Bugs}{Bugs}}\label{md_public_2glpi_2vendor_2michelf_2php-markdown_2_readme_autotoc_md6778}
To file bug reports please send email to\+: \href{mailto:michel.fortin@michelf.ca}{\texttt{ michel.\+fortin@michelf.\+ca}}

Please include with your report\+: (1) the example input; (2) the output you expected; (3) the output PHP Markdown actually produced.

If you have a problem where Markdown gives you an empty result, first check that the backtrack limit is not too low by running {\ttfamily php -\/-\/info \texorpdfstring{$\vert$}{|} grep pcre}. See Installation and Requirement above for details.\hypertarget{md_public_2glpi_2vendor_2michelf_2php-markdown_2_readme_autotoc_md6779}{}\doxysection{\texorpdfstring{Development and Testing}{Development and Testing}}\label{md_public_2glpi_2vendor_2michelf_2php-markdown_2_readme_autotoc_md6779}
Pull requests for fixing bugs are welcome. Proposed new features are going to be meticulously reviewed -- taking into account backward compatibility, potential side effects, and future extensibility -- before deciding on acceptance or rejection.

If you make a pull request that includes changes to the parser please add tests for what is being changed to the {\ttfamily test/} directory. This can be as simple as adding a {\ttfamily .text} (input) file with a corresponding {\ttfamily .xhtml} (output) file to proper category under {\ttfamily ./test/resources/}.

Traditionally tests were in a separate repository, \href{https://github.com/michelf/mdtest}{\texttt{ MDTest}} but they are now located here, alongside the source code.\hypertarget{md_public_2glpi_2vendor_2michelf_2php-markdown_2_readme_autotoc_md6780}{}\doxysection{\texorpdfstring{Donations}{Donations}}\label{md_public_2glpi_2vendor_2michelf_2php-markdown_2_readme_autotoc_md6780}
If you wish to make a donation that will help me devote more time to PHP Markdown, please visit \href{https://michelf.ca/donate/\#!Thanks\%20for\%20PHP\%20Markdown}{\texttt{ michelf.\+ca/donate}}.\hypertarget{md_public_2glpi_2vendor_2michelf_2php-markdown_2_readme_autotoc_md6781}{}\doxysection{\texorpdfstring{Version History}{Version History}}\label{md_public_2glpi_2vendor_2michelf_2php-markdown_2_readme_autotoc_md6781}
PHP Markdown Lib 1.\+9.\+1 (23 Nov 2021)


\begin{DoxyItemize}
\item Now treating {\ttfamily \texorpdfstring{$<$}{<}details\texorpdfstring{$>$}{>}} and {\ttfamily \texorpdfstring{$<$}{<}summary\texorpdfstring{$>$}{>}} as block level so they don\textquotesingle{}t get wrapped in {\ttfamily \texorpdfstring{$<$}{<}p\texorpdfstring{$>$}{>}}. (Thanks to Thomas Hochstein for the fix.)
\item Fix for unintended blank title attribute when adding supplementary attributes to a link in Markdown Extra. (Thanks to Richie Black for the fix.)
\end{DoxyItemize}

PHP Markdown Lib 1.\+9.\+0 (1 Dec 2019)


\begin{DoxyItemize}
\item Added {\ttfamily fn\+\_\+backlink\+\_\+label} configuration variable to put some text in the {\ttfamily aria-\/label} attribute. (Thanks to Sunny Walker for the implementation.)
\item Occurances of "{}\`{}\texorpdfstring{$^\wedge$}{\string^}\texorpdfstring{$^\wedge$}{\string^}\`{}"{} in {\ttfamily fn\+\_\+backlink\+\_\+html}, {\ttfamily fn\+\_\+backlink\+\_\+class}, {\ttfamily fn\+\_\+backlink\+\_\+title}, and {\ttfamily fn\+\_\+backlink\+\_\+label} will be replaced by the corresponding footnote number in the HTML output. Occurances of "{}\`{}\%\%\`{}"{} will be replaced by a number for the reference (footnotes can have multiple references). (Thanks to Sunny Walker for the implementation.)
\item Added configuration variable {\ttfamily omit\+\_\+footnotes}. When {\ttfamily true} footnotes are not appended at the end of the generated HTML and the {\ttfamily footnotes\+\_\+assembled} variable will contain the HTML for the footnote list, allowing footnotes to be moved somewhere else on the page. (Thanks to James K. for the implementation.)

Note\+: when placing the content of {\ttfamily footnotes\+\_\+assembled} on the page, consider adding the attribute {\ttfamily role="{}doc-\/endnotes"{}} to the {\ttfamily \texorpdfstring{$<$}{<}div\texorpdfstring{$>$}{>}} or {\ttfamily \texorpdfstring{$<$}{<}section\texorpdfstring{$>$}{>}} that will enclose the list of footnotes so they are reachable to accessibility tools the same way they would be with the default HTML output.
\item Fixed deprecation warnings from PHP about usage of curly braces to access characters in text strings. (Thanks to Remi Collet and Frans-\/\+Willem Post.)
\end{DoxyItemize}

PHP Markdown Lib 1.\+8.\+0 (14 Jan 2018)


\begin{DoxyItemize}
\item Autoloading with \doxylink{namespace_composer}{Composer} now uses PSR-\/4.
\item HTML output for Markdown Extra footnotes now include {\ttfamily role} attributes with values from \href{https://www.w3.org/TR/dpub-aria/}{\texttt{ WAI-\/\+ARIA}} to make them more accessible. (Thanks to Tobias Bengfort)
\item In Markdown Extra, added the {\ttfamily hashtag\+\_\+protection} configuration variable. When set to {\ttfamily true} it prevents ATX-\/style headers with no space after the initial hash from being interpreted as headers. This way your precious hashtags are preserved. (Thanks to Jaussoin Timothée for the implementation.)
\end{DoxyItemize}

PHP Markdown Lib 1.\+7.\+0 (29 Oct 2016)


\begin{DoxyItemize}
\item Added a {\ttfamily hard\+\_\+wrap} configuration variable to make all newline characters in the text become {\ttfamily \texorpdfstring{$<$}{<}br\texorpdfstring{$>$}{>}} tags in the HTML output. By default, according to the standard Markdown syntax these newlines are ignored unless they a preceded by two spaces. Thanks to Jonathan Cohlmeyer for the implementation.
\item Improved the parsing of list items to fix problematic cases that came to light with the addition of {\ttfamily hard\+\_\+wrap}. This should have no effect on the output except span-\/level list items that ended with two spaces (and thus ended with a line break).
\item Added a {\ttfamily code\+\_\+span\+\_\+content\+\_\+func} configuration variable which takes a function that will convert the content of the code span to HTML. This can be useful to implement syntax highlighting. Although contrary to its code block equivalent, there is no syntax for specifying a language. Credits to styxit for the implementation.
\item Fixed a Markdown Extra issue where two-\/space-\/at-\/end-\/of-\/line hard breaks wouldn\textquotesingle{}t work inside of HTML block elements such as {\ttfamily \texorpdfstring{$<$}{<}p markdown="{}1"{}\texorpdfstring{$>$}{>}} where the element expects only span-\/level content.
\item In the parser code, switched to PHPDoc comment format. Thanks to Robbie Averill for the help.
\end{DoxyItemize}

PHP Markdown Lib 1.\+6.\+0 (23 Dec 2015)

Note\+: this version was incorrectly released as 1.\+5.\+1 on Dec 22, a number that contradicted the versioning policy.


\begin{DoxyItemize}
\item For fenced code blocks in Markdown Extra, can now set a class name for the code block\textquotesingle{}s language before the special attribute block. Previously, this class name was only allowed in the absence of the special attribute block.
\item Added a {\ttfamily code\+\_\+block\+\_\+content\+\_\+func} configuration variable which takes a function that will convert the content of the code block to HTML. This is most useful for syntax highlighting. For fenced code blocks in Markdown Extra, the function has access to the language class name (the one outside of the special attribute block). Credits to Mario Konrad for providing the implementation.
\item The curled arrow character for the backlink in footnotes is now followed by a Unicode variant selector to prevent it from being displayed in emoji form on i\+OS.

Note that in older browsers the variant selector is often interpreted as a separate character, making it visible after the arrow. So there is now a also a {\ttfamily fn\+\_\+backlink\+\_\+html} configuration variable that can be used to set the link text to something else. Credits to Dana for providing the implementation.
\item Fixed an issue in Markdown\+Extra where long header lines followed by a special attribute block would hit the backtrack limit an cause an empty string to be returned.
\end{DoxyItemize}

PHP Markdown Lib 1.\+5.\+0 (1 Mar 2015)


\begin{DoxyItemize}
\item Added the ability start ordered lists with a number different from 1 and and have that reflected in the HTML output. This can be enabled with the {\ttfamily enhanced\+\_\+ordered\+\_\+lists} configuration variable for the Markdown parser; it is enabled by default for Markdown Extra. Credits to Matt Gorle for providing the implementation.
\item Added the ability to insert custom HTML attributes with simple values everywhere an extra attribute block is allowed (links, images, headers). The value must be unquoted, cannot contains spaces and is limited to alphanumeric ASCII characters. Credits to Peter Droogmans for providing the implementation.
\item Added a {\ttfamily header\+\_\+id\+\_\+func} configuration variable which takes a function that can generate an {\ttfamily id} attribute value from the header text. Credits to Evert Pot for providing the implementation.
\item Added a {\ttfamily url\+\_\+filter\+\_\+func} configuration variable which takes a function that can rewrite any link or image URL to something different.
\end{DoxyItemize}

PHP Markdown Lib 1.\+4.\+1 (4 May 2014)


\begin{DoxyItemize}
\item The HTML block parser will now treat {\ttfamily \texorpdfstring{$<$}{<}figure\texorpdfstring{$>$}{>}} as a block-\/level element (as it should) and no longer wrap it in {\ttfamily \texorpdfstring{$<$}{<}p\texorpdfstring{$>$}{>}} or parse it\textquotesingle{}s content with the as Markdown syntax (although with Extra you can use {\ttfamily markdown="{}1"{}} if you wish to use the Markdown syntax inside it).
\item The content of {\ttfamily \texorpdfstring{$<$}{<}style\texorpdfstring{$>$}{>}} elements will now be left alone, its content won\textquotesingle{}t be interpreted as Markdown.
\item Corrected an bug where some inline links with spaces in them would not work even when surounded with angle brackets\+: \begin{DoxyVerb}[link](<s p a c e s>)
\end{DoxyVerb}

\item Fixed an issue where email addresses with quotes in them would not always have the quotes escaped in the link attribute, causing broken links (and invalid HTML).
\item Fixed the case were a link definition following a footnote definition would be swallowed by the footnote unless it was separated by a blank line.
\end{DoxyItemize}

PHP Markdown Lib 1.\+4.\+0 (29 Nov 2013)


\begin{DoxyItemize}
\item Added support for the {\ttfamily tel\+:} URL scheme in automatic links. \begin{DoxyVerb}<tel:+1-111-111-1111>
\end{DoxyVerb}
 It gets converted to this (note the {\ttfamily tel\+:} prefix becomes invisible)\+: \begin{DoxyVerb}<a href="tel:+1-111-111-1111">+1-111-111-1111</a>
\end{DoxyVerb}

\item Added backtick fenced code blocks to Markdown\+Extra, originally from Github-\/\+Flavored Markdown.
\item Added an interface called Markdown\+Interface implemented by both the Markdown and Markdown\+Extra parsers. You can use the interface if you want to create a mockup parser object for unit testing.
\item For those of you who cannot use class autoloading, you can now include {\ttfamily \doxylink{_markdown_8inc_8php}{Michelf/\+Markdown.\+inc.\+php}} or {\ttfamily \doxylink{_markdown_extra_8inc_8php}{Michelf/\+Markdown\+Extra.\+inc.\+php}} (note the {\ttfamily .inc.\+php} extension) to automatically include other files required by the parser.
\end{DoxyItemize}

PHP Markdown Lib 1.\+3 (11 Apr 2013)

This is the first release of PHP Markdown Lib. This package requires PHP version 5.\+3 or later and is designed to work with PSR-\/0 autoloading and, optionally with \doxylink{namespace_composer}{Composer}. Here is a list of the changes since PHP Markdown Extra 1.\+2.\+6\+:


\begin{DoxyItemize}
\item \doxylink{class_plugin}{Plugin} interface for Word\+Press and other systems is no longer present in the Lib package. The classic package is still available if you need it\+: \href{https://michelf.ca/projects/php-markdown/classic/}{\texttt{ https\+://michelf.\+ca/projects/php-\/markdown/classic/}}
\item Added {\ttfamily public} and {\ttfamily protected} protection attributes, plus a section about what is "{}public API"{} and what isn\textquotesingle{}t in the Readme file.
\item Changed HTML output for footnotes\+: now instead of adding {\ttfamily rel} and {\ttfamily rev} attributes, footnotes links have the class name {\ttfamily footnote-\/ref} and backlinks {\ttfamily footnote-\/backref}.
\item Fixed some regular expressions to make PCRE not shout warnings about POSIX collation classes (dependent on your version of PCRE).
\item Added optional class and id attributes to images and links using the same syntax as for headers\+: \begin{DoxyVerb}[link](url){#id .class}
![img](url){#id .class}
\end{DoxyVerb}
 It work too for reference-\/style links and images. In this case you need to put those attributes at the reference definition\+: \begin{DoxyVerb}[link][linkref] or [linkref]
![img][linkref]

[linkref]: url "optional title" {#id .class}
\end{DoxyVerb}

\item Fixed a PHP notice message triggered when some table column separator markers are missing on the separator line below column headers.
\item Fixed a small mistake that could cause the parser to retain an invalid state related to parsing links across multiple runs. This was never observed (that I know of), but it\textquotesingle{}s still worth fixing.
\end{DoxyItemize}\hypertarget{md_public_2glpi_2vendor_2michelf_2php-markdown_2_readme_autotoc_md6782}{}\doxysection{\texorpdfstring{Copyright and License}{Copyright and License}}\label{md_public_2glpi_2vendor_2michelf_2php-markdown_2_readme_autotoc_md6782}
PHP Markdown Lib Copyright (c) 2004-\/2021 Michel Fortin \href{https://michelf.ca/}{\texttt{ https\+://michelf.\+ca/}} ~\newline
 All rights reserved.

Based on Markdown ~\newline
 Copyright (c) 2003-\/2005 John Gruber ~\newline
 \href{https://daringfireball.net/}{\texttt{ https\+://daringfireball.\+net/}} ~\newline
 All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met\+:


\begin{DoxyItemize}
\item Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
\item Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
\item Neither the name "{}\+Markdown"{} nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.
\end{DoxyItemize}

This software is provided by the copyright holders and contributors "{}as is"{} and any express or implied warranties, including, but not limited to, the implied warranties of merchantability and fitness for a particular purpose are disclaimed. In no event shall the copyright owner or contributors be liable for any direct, indirect, incidental, special, exemplary, or consequential damages (including, but not limited to, procurement of substitute goods or services; loss of use, data, or profits; or business interruption) however caused and on any theory of liability, whether in contract, strict liability, or tort (including negligence or otherwise) arising in any way out of the use of this software, even if advised of the possibility of such damage. 